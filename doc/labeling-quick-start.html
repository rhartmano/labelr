<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Labelr - A Selective Introduction</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Labelr - A Selective Introduction</h1>



<div id="a-whirlind-tour" class="section level2">
<h2>A Whirlind Tour</h2>
<p>This vignette provides an ad hoc introduction to a smattering of
labelr functionalities and uses cases. Other brief vignettes cover
additional issues and applications, offering a mix of new material and
expanded treatments or excerpts from this vignette.</p>
</div>
<div id="types-of-labels" class="section level2">
<h2>Types of Labels</h2>
<p>labelr supports the creation and use of a few different types of
labels in the context of R data.frames. Specifically, labelr supports
three core types of data.frame labels, the last of which comes in three
flavors:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Frame labels</strong> - Each data.frame may be given a
single “frame label” of 500 characters or fewer, which may describe key
general features or characteristics of the data set (e.g., source, date
produced or published, high-level contents).</p></li>
<li><p><strong>Name labels</strong> - Each variable may be given exactly
one name label, which is an extended variable name or brief description
of the variable. For example, if a variable called “st_b” refers to a
survey respondent’s state of birth, then a sensible and useful name
label might be “State of Birth”. Or, if a variable called “trust1”
consisted of responses to the consumer survey question, “How much do you
trust BBC news to give you unbiased information?,” a sensible name label
might be “BBC Trust.” As such, name labels are comparable to what Stata
and SAS call “variable labels.”</p></li>
<li><p><strong>Value labels</strong> - labelr offers three kinds of
value labels.</p>
<ul>
<li><p><em>One-to-one labels</em> - The canonical value-labeling use
case entails mapping distinct values of a variable to distinct labels in
a one-to-one fashion, so that each value label uniquely identifies a
substantive value. For instance, an administrative data set might assign
the integers 1-7 to seven distinct racial/ethnic groups, and value
labels would be critical in mapping those numbers to socially
substantive racial/ethnic category concepts (e.g., Which number
corresponds to the “Asian American?”).</p></li>
<li><p><em>Many-to-one labels</em> - In an alternative use case, value
labels may serve to distill or “bucket” distinct variable values in a
way that deliberately “throws away” information for purposes of
simplification. For example, one may wish to give the single label
“Agree” to the responses “Very Strongly Agree,” “Strongly Agree,” and
“Agree.” Or one may wish to differentiate self-identified “White”
respondents from “People of Color,” applying the latter value label to
all categories other than “White.”</p></li>
<li><p><em>Numerical range labels</em> - Finally, one may wish to carve
a numerical variable into an ordinal or qualitative range, such as
dichotomizing a variable or dividing it into quantiles. Numerical range
labels support one-to-many assignment of a single value label to a range
of numerical values for a given variable.</p></li>
</ul></li>
</ol>
</div>
<div id="core-use-cases-and-capabilities" class="section level2">
<h2>Core Use Cases and Capabilities</h2>
<p>More specifically, labelr functions support the following
actions:</p>
<ol style="list-style-type: decimal">
<li><p>Assigning variable value labels, name labels, and a frame label
to data.frames and modifying those labels thereafter.</p></li>
<li><p>Generating and accessing simple look-up table-style data.frames
to inform or remind you about a given variable’s name label, frame
label, or the value labels that correspond to its unique values (i.e.,
Which racial/ethnic identity category label corresponds to a value of
3?).</p></li>
<li><p>Swapping out variable names for variable labels and back
again.</p></li>
<li><p>Replacing variables’ values with their corresponding
labels.</p></li>
<li><p>Augmenting a data.frame by adding columns of variable labels that
can exist alongside the column of variable values.</p></li>
<li><p>Engaging in base::subset-like row-filtering, using value labels
to guide the filtering without converting values to labels in the
returned data.frame.</p></li>
<li><p>Tabulating value frequencies that can be expressed in terms of
raw values or value labels– again, without modifying or converting the
raw data.frame values.</p></li>
<li><p>Preserving and restoring a data.frame’s labelr labels in the
event that some unsupported R operation destroys them.</p></li>
<li><p>Applying a single value-labeling scheme to many variables at once
(for example, assigning the same set of Likert-scale labels (“Strongly
Agree,” etc.) to all variables that share a common variable name
character substring.</p></li>
</ol>
</div>
<div id="load-the-package" class="section level2">
<h2>Load the Package</h2>
<p>Let’s start by loading labelr.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(labelr)</span></code></pre></div>
</div>
<div id="demonstration-1---fake-demographic-data" class="section level2">
<h2>Demonstration 1 - (Fake) Demographic Data</h2>
<p>Let’s create a fake “demographic” data.frame, apply labels to it, and
do some things with those labels.</p>
<div id="make-toy-demographic-data.frame" class="section level3">
<h3>Make toy demographic data.frame</h3>
<p>This function (included with labelr) creates fake “demographic” data
intended for use in exploring/demonstrating labelr functionality.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">make_demo_data</span>(<span class="at">n =</span> <span class="dv">1000</span>, <span class="at">seed =</span> <span class="dv">555</span>)</span></code></pre></div>
</div>
<div id="add-a-variable-frame-label-using-add_frame_lab" class="section level3">
<h3>Add a variable “frame label” using <code>add_frame_lab()</code></h3>
<p>We’ll start our labeling session by providing a fittingly fictional
high-level description of this fictional data set.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_frame_lab</span>(df, <span class="at">frame.lab =</span> <span class="st">&quot;Demographic and reaction time test score</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="st">                    records collected by Royal Statistical Agency of</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="st">                    Fictionaslaviaca. Data fictionally collected in the year</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="st">                    1987. As published in A. Smithee (1988). Some Fictional Data</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="st">                    for Your Amusement. Mad Magazine, 10(1), 1-24.&quot;</span>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="fu">get_frame_lab</span>(df)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="do">### &gt;   data.frame</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="do">### &gt; 1         df</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="do">### &gt;                                                                                                                                                                                                                                                        frame.lab</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="do">### &gt; 1 Demographic and reaction time test score records collected by Royal Statistical Agency of Fictionaslaviaca. Data fictionally collected in the year 1987. As published in A. Smithee (1988). Some Fictional Data for Your Amusement. Mad Magazine, 10(1), 1-24.</span></span></code></pre></div>
</div>
<div id="add-variable-name-labels-using-add_name_labs" class="section level3">
<h3>Add variable name labels using <code>add_name_labs()</code></h3>
<p>Now, let’s add (some fairly trivial) variable NAME labels</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_name_labs</span>(df, <span class="at">name.labs =</span> <span class="fu">c</span>(</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="st">&quot;age&quot;</span> <span class="ot">=</span> <span class="st">&quot;Age in years&quot;</span>,</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="st">&quot;raceth&quot;</span> <span class="ot">=</span> <span class="st">&quot;Racial/ethnic identity group category&quot;</span>,</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  <span class="st">&quot;gender&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gender identity&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  <span class="st">&quot;edu&quot;</span> <span class="ot">=</span> <span class="st">&quot;Highest education level attained&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="st">&quot;x1&quot;</span> <span class="ot">=</span> <span class="st">&quot;Space Invaders reaction time test scores&quot;</span>,</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  <span class="st">&quot;x2&quot;</span> <span class="ot">=</span> <span class="st">&quot;Galaga reaction time test scores&quot;</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>))</span></code></pre></div>
<p>Even if we do nothing else with these name labels, we can access or
manipulate a simple lookup table as needed.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">get_name_labs</span>(df)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="do">### &gt;      var                                      lab</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="do">### &gt; 1     id                                       id</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="do">### &gt; 2    age                             Age in years</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="do">### &gt; 3 gender                          Gender identity</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="do">### &gt; 4 raceth    Racial/ethnic identity group category</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="do">### &gt; 5    edu         Highest education level attained</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="do">### &gt; 6     x1 Space Invaders reaction time test scores</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="do">### &gt; 7     x2         Galaga reaction time test scores</span></span></code></pre></div>
</div>
<div id="add-value-labels-using-add_val_labs" class="section level3">
<h3>Add value labels using <code>add_val_labs()</code></h3>
<p>Let’s add one-to-one value labels for variable “raceth”. Note:
max.unique.vals sets an upper limit on the number of unique values a
variable may have be considered “value-label-able.” labelr sets an
overall upper limit of 5000 unique value labels permissible per
variable.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_val_labs</span>(df,</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;raceth&quot;</span>, <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>),</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>    <span class="st">&quot;White&quot;</span>, <span class="st">&quot;Black&quot;</span>, <span class="st">&quot;Hispanic&quot;</span>,</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>    <span class="st">&quot;Asian&quot;</span>, <span class="st">&quot;AIAN&quot;</span>, <span class="st">&quot;Multi&quot;</span>, <span class="st">&quot;Other&quot;</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  ),</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  <span class="at">max.unique.vals =</span> <span class="dv">10</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>)</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="do">### &gt; Labeling variable --raceth--:</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="do">### &gt;      var vals     labs</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="do">### &gt; 1 raceth    1    White</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="do">### &gt; 2 raceth    2    Black</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="do">### &gt; 3 raceth    3 Hispanic</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="do">### &gt; 4 raceth    4    Asian</span></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="do">### &gt; 5 raceth    5     AIAN</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="do">### &gt; 6 raceth    6    Multi</span></span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="do">### &gt; 7 raceth    7    Other</span></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="do">### &gt; 8 raceth   NA       NA</span></span></code></pre></div>
</div>
<div id="add-value-labels-using-add_val1" class="section level3">
<h3>Add value labels using <code>add_val1()</code></h3>
<p>Let’s add value labels for variable “gender.” Function
<code>add_val1</code> allows you to supply the variable name unquoted,
provided you are value-labeling only one variable. (Not evident from the
above, but add_val_labs supports labeling multiple variables at
once).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_val1</span>(</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="at">data =</span> df, gender, <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Other&quot;</span>), <span class="at">max.unique.vals =</span> <span class="dv">10</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="do">### &gt; Labeling variable --gender--:</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="do">### &gt;       var vals   labs</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="do">### &gt; 9  gender    0   Male</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="do">### &gt; 10 gender    1 Female</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="do">### &gt; 11 gender    2  Other</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="do">### &gt; 12 gender   NA     NA</span></span></code></pre></div>
<p>Once again, we can create a lookup table with the labels-to-values
mappings.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">get_val_labs</span>(df)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="do">### &gt;       var vals     labs</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="do">### &gt; 1  gender    0     Male</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="do">### &gt; 2  gender    1   Female</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="do">### &gt; 3  gender    2    Other</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="do">### &gt; 4  gender   NA       NA</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="do">### &gt; 5  raceth    1    White</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="do">### &gt; 6  raceth    2    Black</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="do">### &gt; 7  raceth    3 Hispanic</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="do">### &gt; 8  raceth    4    Asian</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="do">### &gt; 9  raceth    5     AIAN</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="do">### &gt; 10 raceth    6    Multi</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="do">### &gt; 11 raceth    7    Other</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="do">### &gt; 12 raceth   NA       NA</span></span></code></pre></div>
</div>
<div id="add-numerical-range-labels-using-add_quant_labs" class="section level3">
<h3>Add NUMERICAL RANGE Labels Using <code>add_quant_labs()</code></h3>
<p>Traditionally, value labels are intended for categorical variables,
such as binary, nominal, or (integer) ordinal variables with limited
numbers of distinct categories. Further, value labels that are added
using <code>add_val_labs</code> (or <code>add_val1</code>) are
constrained to map one-to-one to distinct values: Any given value label
can map to only one distinct value and vice versa.</p>
<p>If you wish to apply a label to a range of values of a numerical
variable, such as labeling each value according to the quintile or
decile to which it belongs, you can use <code>add_quant_labs()</code>
(or <code>add_quant1</code>) to do so.</p>
<p>Here, we will use <code>add_quant_labs</code> to apply quintile range
labels to all variables of df that have an “x” in their names (i.e.,
vars “x1” and “x2”)</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>df_temp <span class="ot">&lt;-</span> <span class="fu">add_quant_labs</span>(<span class="at">data =</span> df, <span class="at">vars =</span> <span class="st">&quot;x&quot;</span>, <span class="at">qtiles =</span> <span class="dv">5</span>, <span class="at">partial =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x1--:</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="do">### &gt;    var    vals labs</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="do">### &gt; 13  x1  82.976 q020</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="do">### &gt; 14  x1  95.238 q040</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="do">### &gt; 15  x1 106.142 q060</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="do">### &gt; 16  x1 117.524 q080</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="do">### &gt; 17  x1  157.98 q100</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="do">### &gt; 18  x1      NA   NA</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x2--:</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="do">### &gt;    var    vals labs</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="do">### &gt; 19  x2 0.22404 q020</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="do">### &gt; 20  x2 0.41608 q040</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="do">### &gt; 21  x2 0.62034 q060</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="do">### &gt; 22  x2 0.80538 q080</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="do">### &gt; 23  x2  0.9992 q100</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="do">### &gt; 24  x2      NA   NA</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="do">### &gt; Remember: This command uses partial vars arg matching.</span></span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="do">### &gt; Use a more specific vars argument or set partial = FALSE</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="do">### &gt; ...if you want to restrict labeling to fewer/more specific variables.</span></span></code></pre></div>
<p>As <code>add_quant_labs</code> adds those numerical range labels, the
console output shows the actual quintile value of the supplied variable
(here, “x1” and “x2”) that corresponds to each quintile (range) label.
Any value at or below that value (and above the next-lowest quintile
value) is assigned that quintile label.</p>
<p>We can use the same function to assign arbitrary, user-specified
range labels. Here, we assign labels that differentiate values of “x1”
and “x2” that are at or below 100 from values that are at or below
150.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>df_temp <span class="ot">&lt;-</span> <span class="fu">add_quant_labs</span>(</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="at">data =</span> df_temp, <span class="at">vars =</span> <span class="st">&quot;x&quot;</span>, <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">150</span>),</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="at">partial =</span> <span class="cn">TRUE</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>)</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --x1--.</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x1--:</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="do">### &gt;    var vals  labs</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="do">### &gt; 19  x1  100 &lt;=100</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="do">### &gt; 20  x1  150 &lt;=150</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="do">### &gt; 21  x1   NA    NA</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --x2--.</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="do">### &gt; Warning in add_quant_labs(data = df_temp, vars = &quot;x&quot;, vals = c(100, 150), : </span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="do">### &gt; Some of the supplied vals argument values are outside</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a><span class="do">### &gt; the observed range of var --x2-- values</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x2--:</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a><span class="do">### &gt;    var vals  labs</span></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="do">### &gt; 16  x2  100 &lt;=100</span></span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a><span class="do">### &gt; 17  x2  150 &lt;=150</span></span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a><span class="do">### &gt; 18  x2   NA    NA</span></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a><span class="do">### &gt; Remember: This command uses partial vars arg matching.</span></span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a><span class="do">### &gt; Use a more specific vars argument or set partial = FALSE</span></span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a><span class="do">### &gt; ...if you want to restrict labeling to fewer/more specific variables.</span></span></code></pre></div>
<p>Having demonstrated the basic functionality, let’s use
<code>add_quant1</code> to apply decile range labeling to variable “x1”
only. This function only accepts one variable, but its name can be
supplied unquoted.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_quant1</span>(df, x1, <span class="at">qtiles =</span> <span class="dv">5</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x1--:</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="do">### &gt;    var    vals labs</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="do">### &gt; 13  x1  82.976 q020</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="do">### &gt; 14  x1  95.238 q040</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="do">### &gt; 15  x1 106.142 q060</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="do">### &gt; 16  x1 117.524 q080</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="do">### &gt; 17  x1  157.98 q100</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="do">### &gt; 18  x1      NA   NA</span></span></code></pre></div>
<p>We’ll preserve the “x1” range labels going forward, keeping “x2”
unlabeled.</p>
</div>
<div id="add-many-to-one-value-labels-using-add_m1_lab" class="section level3">
<h3>Add MANY-TO-ONE VALUE Labels Using <code>add_m1_lab()</code></h3>
<p>If you wish to apply a single label to multiple distinct values, this
can be done through successive calls to <code>add_m1_lab()</code> (or
<code>add1m1()</code>, if working with a single variable). Here “m1” is
shorthand for “many to one.”</p>
<p>Note that each call to <code>add_m1_lab()</code> applies a single
value label, so,<br />
multiple calls are needed to apply multiple labels. Here, we illustrate
this, applying the label “Some College+” to values 3, 4, or 5 of the
variable “edu”, then applying other distinct labels to values 1 and 2,
respectively.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_m1_lab</span>(df, <span class="st">&quot;edu&quot;</span>, <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">lab =</span> <span class="st">&quot;Some College+&quot;</span>)</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="do">### &gt; Labeling variable --edu--:</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="do">### &gt;    var vals          labs</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="do">### &gt; 19 edu    1             1</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="do">### &gt; 20 edu    2             2</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="do">### &gt; 21 edu    3 Some College+</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="do">### &gt; 22 edu    4 Some College+</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="do">### &gt; 23 edu    5 Some College+</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="do">### &gt; 24 edu   NA            NA</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_m1_lab</span>(df, <span class="st">&quot;edu&quot;</span>, <span class="at">vals =</span> <span class="dv">1</span>, <span class="at">lab =</span> <span class="st">&quot;Not HS Grad&quot;</span>)</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="do">### &gt; Labeling variable --edu--:</span></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="do">### &gt;    var vals          labs</span></span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="do">### &gt; 13 edu    1   Not HS Grad</span></span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="do">### &gt; 14 edu    2             2</span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a><span class="do">### &gt; 15 edu    3 Some College+</span></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="do">### &gt; 16 edu    4 Some College+</span></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a><span class="do">### &gt; 17 edu    5 Some College+</span></span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a><span class="do">### &gt; 18 edu   NA            NA</span></span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_m1_lab</span>(df, <span class="st">&quot;edu&quot;</span>, <span class="at">vals =</span> <span class="dv">2</span>, <span class="at">lab =</span> <span class="st">&quot;HSG, No College&quot;</span>)</span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a><span class="do">### &gt; Labeling variable --edu--:</span></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a><span class="do">### &gt;    var vals            labs</span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a><span class="do">### &gt; 13 edu    1     Not HS Grad</span></span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a><span class="do">### &gt; 14 edu    2 HSG, No College</span></span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a><span class="do">### &gt; 15 edu    3   Some College+</span></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a><span class="do">### &gt; 16 edu    4   Some College+</span></span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a><span class="do">### &gt; 17 edu    5   Some College+</span></span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a><span class="do">### &gt; 18 edu   NA              NA</span></span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a><span class="fu">get_val_labs</span>(df)</span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a><span class="do">### &gt;       var    vals            labs</span></span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a><span class="do">### &gt; 1  gender       0            Male</span></span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a><span class="do">### &gt; 2  gender       1          Female</span></span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a><span class="do">### &gt; 3  gender       2           Other</span></span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a><span class="do">### &gt; 4  gender      NA              NA</span></span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a><span class="do">### &gt; 5  raceth       1           White</span></span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a><span class="do">### &gt; 6  raceth       2           Black</span></span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a><span class="do">### &gt; 7  raceth       3        Hispanic</span></span>
<span id="cb12-40"><a href="#cb12-40" tabindex="-1"></a><span class="do">### &gt; 8  raceth       4           Asian</span></span>
<span id="cb12-41"><a href="#cb12-41" tabindex="-1"></a><span class="do">### &gt; 9  raceth       5            AIAN</span></span>
<span id="cb12-42"><a href="#cb12-42" tabindex="-1"></a><span class="do">### &gt; 10 raceth       6           Multi</span></span>
<span id="cb12-43"><a href="#cb12-43" tabindex="-1"></a><span class="do">### &gt; 11 raceth       7           Other</span></span>
<span id="cb12-44"><a href="#cb12-44" tabindex="-1"></a><span class="do">### &gt; 12 raceth      NA              NA</span></span>
<span id="cb12-45"><a href="#cb12-45" tabindex="-1"></a><span class="do">### &gt; 13    edu       1     Not HS Grad</span></span>
<span id="cb12-46"><a href="#cb12-46" tabindex="-1"></a><span class="do">### &gt; 14    edu       2 HSG, No College</span></span>
<span id="cb12-47"><a href="#cb12-47" tabindex="-1"></a><span class="do">### &gt; 15    edu       3   Some College+</span></span>
<span id="cb12-48"><a href="#cb12-48" tabindex="-1"></a><span class="do">### &gt; 16    edu       4   Some College+</span></span>
<span id="cb12-49"><a href="#cb12-49" tabindex="-1"></a><span class="do">### &gt; 17    edu       5   Some College+</span></span>
<span id="cb12-50"><a href="#cb12-50" tabindex="-1"></a><span class="do">### &gt; 18    edu      NA              NA</span></span>
<span id="cb12-51"><a href="#cb12-51" tabindex="-1"></a><span class="do">### &gt; 19     x1  82.976            q020</span></span>
<span id="cb12-52"><a href="#cb12-52" tabindex="-1"></a><span class="do">### &gt; 20     x1  95.238            q040</span></span>
<span id="cb12-53"><a href="#cb12-53" tabindex="-1"></a><span class="do">### &gt; 21     x1 106.142            q060</span></span>
<span id="cb12-54"><a href="#cb12-54" tabindex="-1"></a><span class="do">### &gt; 22     x1 117.524            q080</span></span>
<span id="cb12-55"><a href="#cb12-55" tabindex="-1"></a><span class="do">### &gt; 23     x1  157.98            q100</span></span>
<span id="cb12-56"><a href="#cb12-56" tabindex="-1"></a><span class="do">### &gt; 24     x1      NA              NA</span></span></code></pre></div>
</div>
<div id="where-do-we-stand" class="section level3">
<h3>Where Do We Stand?</h3>
<p>All of this is nice, but have we really accomplished anything? A
casual view of the data.frame suggests that it has not changed from its
initial state.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">head</span>(df)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth edu     x1     x2</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="do">### &gt; T-1  1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="do">### &gt; N-2  2  56      1      1   2  67.12 0.9116</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="do">### &gt; D-3  3  54      1      6   3  79.28 0.6993</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46      1      5   4  99.59 0.2243</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="do">### &gt; E-5  5  18      1      6   4  90.49 0.0099</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="do">### &gt; K-6  6  45      0      2   4  78.55 0.9250</span></span></code></pre></div>
<p>But labeling has introduced unobtrusive but important features for us
to use. Let’s take a look.</p>
</div>
<div id="swap-out-values-for-labels-with-use_val_labs-and-with_-commands" class="section level3">
<h3>Swap out values for labels with <code>use_val_labs()</code> and
<code>with_*()</code> commands</h3>
<p>Now that our data.frame is labeled, we can overlay value labels –
that is, swap out values for labels. We might do this temporarily, to
visualize the labels.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">use_val_labs</span>(df), <span class="dv">5</span>)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth             edu   x1     x2</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="do">### &gt; T-1  1  59 Female  Asian   Some College+ q100 0.5928</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="do">### &gt; N-2  2  56 Female  White HSG, No College q020 0.9116</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="do">### &gt; D-3  3  54 Female  Multi   Some College+ q020 0.6993</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46 Female   AIAN   Some College+ q060 0.2243</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="do">### &gt; E-5  5  18 Female  Multi   Some College+ q040 0.0099</span></span></code></pre></div>
<p>Or we could do something more “permanent,” such as assigning the
result to a new object that will replace our value-labeled columns.
There is no direct way to “undo” a call to <code>use_val_labs()</code>,
so, it is safest to assign the result to a new object (or try
<code>add_lab_cols()</code>, discusse momentarily).</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>df_labd <span class="ot">&lt;-</span> <span class="fu">use_val_labs</span>(df)</span></code></pre></div>
<p>Similarly, we can use with()-like non-standard evaluation to overlay
labels, which is helpful in a few limited cases. Note how
<code>with_val_labs</code> behaves below.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">with</span>(df, <span class="fu">table</span>(gender, raceth))</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="do">### &gt;       raceth</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="do">### &gt; gender  1  2  3  4  5  6  7</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="do">### &gt;      0 83 66 62 65 64 68 61</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="do">### &gt;      1 70 74 79 56 83 69 64</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="do">### &gt;      2  3  7  3  6  8  3  6</span></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="fu">with_val_labs</span>(df, <span class="fu">table</span>(gender, raceth))</span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="do">### &gt;         raceth</span></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a><span class="do">### &gt; gender   AIAN Asian Black Hispanic Multi Other White</span></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="do">### &gt;   Female   83    56    74       79    69    64    70</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="do">### &gt;   Male     64    65    66       62    68    61    83</span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a><span class="do">### &gt;   Other     8     6     7        3     3     6     3</span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a><span class="fu">wvl</span>(df, <span class="fu">table</span>(gender, raceth)) <span class="co"># wvl() is an more compact alias</span></span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a><span class="do">### &gt;         raceth</span></span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a><span class="do">### &gt; gender   AIAN Asian Black Hispanic Multi Other White</span></span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a><span class="do">### &gt;   Female   83    56    74       79    69    64    70</span></span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a><span class="do">### &gt;   Male     64    65    66       62    68    61    83</span></span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a><span class="do">### &gt;   Other     8     6     7        3     3     6     3</span></span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a></span>
<span id="cb16-22"><a href="#cb16-22" tabindex="-1"></a><span class="fu">with</span>(<span class="fu">use_val_labs</span>(df), <span class="fu">table</span>(gender, raceth))</span>
<span id="cb16-23"><a href="#cb16-23" tabindex="-1"></a><span class="do">### &gt;         raceth</span></span>
<span id="cb16-24"><a href="#cb16-24" tabindex="-1"></a><span class="do">### &gt; gender   AIAN Asian Black Hispanic Multi Other White</span></span>
<span id="cb16-25"><a href="#cb16-25" tabindex="-1"></a><span class="do">### &gt;   Female   83    56    74       79    69    64    70</span></span>
<span id="cb16-26"><a href="#cb16-26" tabindex="-1"></a><span class="do">### &gt;   Male     64    65    66       62    68    61    83</span></span>
<span id="cb16-27"><a href="#cb16-27" tabindex="-1"></a><span class="do">### &gt;   Other     8     6     7        3     3     6     3</span></span></code></pre></div>
<p>We also have options for overlaying / swapping out variable NAME
labels for actual variable column names, as we’ll see below.</p>
</div>
<div id="show-first-last-or-random-rows-with-value-labels-overlaid" class="section level3">
<h3>Show First, Last, or Random Rows with Value Labels Overlaid</h3>
<p>Base R includes the <code>head()</code> and <code>tail()</code>
functions, which allow you to show the first n or last n rows of a
data.frame. The car package offers a similar function called
<code>some()</code>, which allows you to show a random n rows of a
data.frame.</p>
<p>labelr provides versions of these functions that will display value
labels in place of values (akin to <code>use_val_labs()</code>). Below,
each of the three standard functions is demonstrated, followed by its
labelr counterpart.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">head</span>(df, <span class="dv">5</span>) <span class="co"># Base R function utils::head()</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth edu     x1     x2</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="do">### &gt; T-1  1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="do">### &gt; N-2  2  56      1      1   2  67.12 0.9116</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="do">### &gt; D-3  3  54      1      6   3  79.28 0.6993</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46      1      5   4  99.59 0.2243</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="do">### &gt; E-5  5  18      1      6   4  90.49 0.0099</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="fu">headl</span>(df, <span class="dv">5</span>) <span class="co"># labelr function headl() (note the &quot;l&quot;)</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth             edu   x1     x2</span></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="do">### &gt; T-1  1  59 Female  Asian   Some College+ q100 0.5928</span></span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="do">### &gt; N-2  2  56 Female  White HSG, No College q020 0.9116</span></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="do">### &gt; D-3  3  54 Female  Multi   Some College+ q020 0.6993</span></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46 Female   AIAN   Some College+ q060 0.2243</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="do">### &gt; E-5  5  18 Female  Multi   Some College+ q040 0.0099</span></span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a><span class="fu">tail</span>(df, <span class="dv">5</span>) <span class="co"># Base R function utils::tail()</span></span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a><span class="do">### &gt;          id age gender raceth edu     x1     x2</span></span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a><span class="do">### &gt; Z-996   996  63      0      1   4  92.36 0.0447</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a><span class="do">### &gt; S-997   997  18      0      4   4 147.40 0.2252</span></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a><span class="do">### &gt; K-998   998  45      0      5   2 106.87 0.1610</span></span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a><span class="do">### &gt; I-999   999  46      1      4   2 119.13 0.7666</span></span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a><span class="do">### &gt; H-1000 1000  68      0      6   5  70.38 0.5123</span></span>
<span id="cb17-24"><a href="#cb17-24" tabindex="-1"></a></span>
<span id="cb17-25"><a href="#cb17-25" tabindex="-1"></a><span class="fu">taill</span>(df, <span class="dv">5</span>) <span class="co"># labelr function taill() (note the &quot;l&quot;)</span></span>
<span id="cb17-26"><a href="#cb17-26" tabindex="-1"></a><span class="do">### &gt;          id age gender raceth             edu   x1     x2</span></span>
<span id="cb17-27"><a href="#cb17-27" tabindex="-1"></a><span class="do">### &gt; Z-996   996  63   Male  White   Some College+ q040 0.0447</span></span>
<span id="cb17-28"><a href="#cb17-28" tabindex="-1"></a><span class="do">### &gt; S-997   997  18   Male  Asian   Some College+ q100 0.2252</span></span>
<span id="cb17-29"><a href="#cb17-29" tabindex="-1"></a><span class="do">### &gt; K-998   998  45   Male   AIAN HSG, No College q080 0.1610</span></span>
<span id="cb17-30"><a href="#cb17-30" tabindex="-1"></a><span class="do">### &gt; I-999   999  46 Female  Asian HSG, No College q100 0.7666</span></span>
<span id="cb17-31"><a href="#cb17-31" tabindex="-1"></a><span class="do">### &gt; H-1000 1000  68   Male  Multi   Some College+ q020 0.5123</span></span>
<span id="cb17-32"><a href="#cb17-32" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">some</span>(df, <span class="dv">5</span>) <span class="co"># car package function car::some()</span></span>
<span id="cb17-34"><a href="#cb17-34" tabindex="-1"></a><span class="do">### &gt;        id age gender raceth edu     x1     x2</span></span>
<span id="cb17-35"><a href="#cb17-35" tabindex="-1"></a><span class="do">### &gt; H-89   89  24      0      3   3 110.56 0.9992</span></span>
<span id="cb17-36"><a href="#cb17-36" tabindex="-1"></a><span class="do">### &gt; W-425 425  52      1      4   5 108.73 0.0726</span></span>
<span id="cb17-37"><a href="#cb17-37" tabindex="-1"></a><span class="do">### &gt; W-663 663  29      0      6   3  75.43 0.8891</span></span>
<span id="cb17-38"><a href="#cb17-38" tabindex="-1"></a><span class="do">### &gt; M-743 743  28      1      1   4 107.95 0.4214</span></span>
<span id="cb17-39"><a href="#cb17-39" tabindex="-1"></a><span class="do">### &gt; P-983 983  31      0      7   2 111.65 0.8703</span></span>
<span id="cb17-40"><a href="#cb17-40" tabindex="-1"></a></span>
<span id="cb17-41"><a href="#cb17-41" tabindex="-1"></a><span class="fu">somel</span>(df, <span class="dv">5</span>, <span class="at">seed =</span> <span class="dv">1837</span>) <span class="co"># labelr function somel() (note the &quot;l&quot;)</span></span>
<span id="cb17-42"><a href="#cb17-42" tabindex="-1"></a><span class="do">### &gt;        id age gender   raceth             edu   x1     x2</span></span>
<span id="cb17-43"><a href="#cb17-43" tabindex="-1"></a><span class="do">### &gt; B-407 407  45 Female Hispanic   Some College+ q020 0.3781</span></span>
<span id="cb17-44"><a href="#cb17-44" tabindex="-1"></a><span class="do">### &gt; O-634 634  33   Male    Asian   Some College+ q060 0.9275</span></span>
<span id="cb17-45"><a href="#cb17-45" tabindex="-1"></a><span class="do">### &gt; F-893 893  56   Male    White   Some College+ q080 0.9966</span></span>
<span id="cb17-46"><a href="#cb17-46" tabindex="-1"></a><span class="do">### &gt; S-361 361  53 Female    Asian HSG, No College q020 0.5263</span></span>
<span id="cb17-47"><a href="#cb17-47" tabindex="-1"></a><span class="do">### &gt; K-452 452  40   Male Hispanic   Some College+ q100 0.3242</span></span></code></pre></div>
<p>Note that <code>some()</code> and <code>somel()</code> will not
return the same random rows.</p>
</div>
<div id="add-value-labels-back-to-the-data.frame-with-add_lab_cols" class="section level3">
<h3>Add value labels back to the data.frame with
<code>add_lab_cols()</code></h3>
<p>Whereas <code>use_val_labs()</code> replaces value-labeled variable
values with their labels, we do not strictly need to choose between
values and labels. We can preserve all existing variables, including the
value-labeled ones, while adding an additional labels-as-values column
for each value-labeled column. Easier done than said, perhaps. Take a
look:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>df_plus_labs <span class="ot">&lt;-</span> <span class="fu">add_lab_cols</span>(df)</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="fu">head</span>(df_plus_labs)</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth edu     x1     x2 gender_lab raceth_lab</span></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="do">### &gt; T-1  1  59      1      4   5 120.25 0.5928     Female      Asian</span></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="do">### &gt; N-2  2  56      1      1   2  67.12 0.9116     Female      White</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="do">### &gt; D-3  3  54      1      6   3  79.28 0.6993     Female      Multi</span></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46      1      5   4  99.59 0.2243     Female       AIAN</span></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a><span class="do">### &gt; E-5  5  18      1      6   4  90.49 0.0099     Female      Multi</span></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a><span class="do">### &gt; K-6  6  45      0      2   4  78.55 0.9250       Male      Black</span></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a><span class="do">### &gt;             edu_lab x1_lab</span></span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a><span class="do">### &gt; T-1   Some College+   q100</span></span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a><span class="do">### &gt; N-2 HSG, No College   q020</span></span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a><span class="do">### &gt; D-3   Some College+   q020</span></span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a><span class="do">### &gt; Q-4   Some College+   q060</span></span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a><span class="do">### &gt; E-5   Some College+   q040</span></span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a><span class="do">### &gt; K-6   Some College+   q020</span></span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a><span class="fu">head</span>(df_plus_labs[<span class="fu">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;gender_lab&quot;</span>, <span class="st">&quot;raceth&quot;</span>, <span class="st">&quot;raceth_lab&quot;</span>)])</span>
<span id="cb18-20"><a href="#cb18-20" tabindex="-1"></a><span class="do">### &gt;     gender gender_lab raceth raceth_lab</span></span>
<span id="cb18-21"><a href="#cb18-21" tabindex="-1"></a><span class="do">### &gt; T-1      1     Female      4      Asian</span></span>
<span id="cb18-22"><a href="#cb18-22" tabindex="-1"></a><span class="do">### &gt; N-2      1     Female      1      White</span></span>
<span id="cb18-23"><a href="#cb18-23" tabindex="-1"></a><span class="do">### &gt; D-3      1     Female      6      Multi</span></span>
<span id="cb18-24"><a href="#cb18-24" tabindex="-1"></a><span class="do">### &gt; Q-4      1     Female      5       AIAN</span></span>
<span id="cb18-25"><a href="#cb18-25" tabindex="-1"></a><span class="do">### &gt; E-5      1     Female      6      Multi</span></span>
<span id="cb18-26"><a href="#cb18-26" tabindex="-1"></a><span class="do">### &gt; K-6      0       Male      2      Black</span></span></code></pre></div>
</div>
<div id="filter-values-using-labels-with-flab" class="section level3">
<h3>“Filter values using labels” with <code>flab()</code></h3>
<p>We can filter a value-labeled data.frame on the basis for value
labels, returning the subsetted data.frame with the labels still in the
background. For example, here we use the more semantically meaningful
value labels to filter our data.frame.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">head</span>(df)</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth edu     x1     x2</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="do">### &gt; T-1  1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="do">### &gt; N-2  2  56      1      1   2  67.12 0.9116</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="do">### &gt; D-3  3  54      1      6   3  79.28 0.6993</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46      1      5   4  99.59 0.2243</span></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="do">### &gt; E-5  5  18      1      6   4  90.49 0.0099</span></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="do">### &gt; K-6  6  45      0      2   4  78.55 0.9250</span></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">flab</span>(df, raceth <span class="sc">==</span> <span class="st">&quot;Asian&quot;</span> <span class="sc">&amp;</span> gender <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>)</span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a><span class="do">### &gt; Remember: Any filtering conditions involving value-labeled variables must be expressed</span></span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a><span class="do">### &gt; in terms of the (quoted character) value labels, not the variable values themselves. </span></span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a><span class="do">### &gt; To filter using values (not labels) of value-labeled variables, try, e.g., sfilter().</span></span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a><span class="fu">head</span>(df1, <span class="dv">5</span>)</span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a><span class="do">### &gt;      id age gender raceth edu     x1     x2</span></span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a><span class="do">### &gt; T-1   1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a><span class="do">### &gt; D-40 40  60      1      4   4  78.12 0.9885</span></span>
<span id="cb19-21"><a href="#cb19-21" tabindex="-1"></a><span class="do">### &gt; E-67 67  39      1      4   5  98.21 0.6244</span></span>
<span id="cb19-22"><a href="#cb19-22" tabindex="-1"></a><span class="do">### &gt; I-73 73  36      1      4   2  98.42 0.2102</span></span>
<span id="cb19-23"><a href="#cb19-23" tabindex="-1"></a><span class="do">### &gt; V-80 80  27      1      4   4 122.62 0.3137</span></span>
<span id="cb19-24"><a href="#cb19-24" tabindex="-1"></a></span>
<span id="cb19-25"><a href="#cb19-25" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">use_val_labs</span>(df1), <span class="dv">5</span>)</span>
<span id="cb19-26"><a href="#cb19-26" tabindex="-1"></a><span class="do">### &gt;      id age gender raceth             edu   x1     x2</span></span>
<span id="cb19-27"><a href="#cb19-27" tabindex="-1"></a><span class="do">### &gt; T-1   1  59 Female  Asian   Some College+ q100 0.5928</span></span>
<span id="cb19-28"><a href="#cb19-28" tabindex="-1"></a><span class="do">### &gt; D-40 40  60 Female  Asian   Some College+ q020 0.9885</span></span>
<span id="cb19-29"><a href="#cb19-29" tabindex="-1"></a><span class="do">### &gt; E-67 67  39 Female  Asian   Some College+ q060 0.6244</span></span>
<span id="cb19-30"><a href="#cb19-30" tabindex="-1"></a><span class="do">### &gt; I-73 73  36 Female  Asian HSG, No College q060 0.2102</span></span>
<span id="cb19-31"><a href="#cb19-31" tabindex="-1"></a><span class="do">### &gt; V-80 80  27 Female  Asian   Some College+ q100 0.3137</span></span></code></pre></div>
</div>
<div id="subset-using-labels-with-slab" class="section level3">
<h3>“Subset using labels” with <code>slab()</code></h3>
<p>As with <code>base::subset()</code>, we can also limit which columns
we return.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">slab</span>(df, raceth <span class="sc">==</span> <span class="st">&quot;Black&quot;</span> <span class="sc">&amp;</span> gender <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>, gender, raceth), <span class="dv">10</span>)</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="do">### &gt; Remember: Any slab() filtering conditions involving value-labeled variables must be expressed</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="do">### &gt; in terms of the (quoted character) value labels, not the variable values themselves. </span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="do">### &gt; To filter using values (not labels) of value-labeled variables, try, e.g., ssubset().</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="do">### &gt;       gender raceth</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="do">### &gt; K-6        0      2</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="do">### &gt; F-22       0      2</span></span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a><span class="do">### &gt; E-30       0      2</span></span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a><span class="do">### &gt; O-46       0      2</span></span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a><span class="do">### &gt; Q-48       0      2</span></span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a><span class="do">### &gt; F-72       0      2</span></span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a><span class="do">### &gt; T-117      0      2</span></span>
<span id="cb20-15"><a href="#cb20-15" tabindex="-1"></a><span class="do">### &gt; K-149      0      2</span></span>
<span id="cb20-16"><a href="#cb20-16" tabindex="-1"></a><span class="do">### &gt; M-161      0      2</span></span>
<span id="cb20-17"><a href="#cb20-17" tabindex="-1"></a><span class="do">### &gt; A-167      0      2</span></span></code></pre></div>
</div>
<div id="tabulate-frequencies-with-tabl" class="section level3">
<h3>Tabulate frequencies with <code>tabl()</code></h3>
<p>labelr’s <code>tabl()</code> function supports count tabulations with
labels turned “on” or “off” and offers some other functionalities. For
example, tables can be generated…</p>
<p>…in terms of values</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">tabl</span>(df), <span class="dv">20</span>)</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="do">### &gt; Excluding variable --id-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="do">### &gt; Excluding variable --age-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="do">### &gt; Excluding variable --x1-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a><span class="do">### &gt; Excluding variable --x2-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a><span class="do">### &gt; Note: To filter zero-frequency rows (i.e., un-observed value combinations)</span></span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a><span class="do">### &gt; set zero.rm = TRUE.</span></span>
<span id="cb21-13"><a href="#cb21-13" tabindex="-1"></a><span class="do">### &gt;    gender raceth edu  n</span></span>
<span id="cb21-14"><a href="#cb21-14" tabindex="-1"></a><span class="do">### &gt; 1       1      2   2 29</span></span>
<span id="cb21-15"><a href="#cb21-15" tabindex="-1"></a><span class="do">### &gt; 2       0      1   3 28</span></span>
<span id="cb21-16"><a href="#cb21-16" tabindex="-1"></a><span class="do">### &gt; 3       1      1   2 28</span></span>
<span id="cb21-17"><a href="#cb21-17" tabindex="-1"></a><span class="do">### &gt; 4       1      5   2 27</span></span>
<span id="cb21-18"><a href="#cb21-18" tabindex="-1"></a><span class="do">### &gt; 5       1      5   3 26</span></span>
<span id="cb21-19"><a href="#cb21-19" tabindex="-1"></a><span class="do">### &gt; 6       1      6   2 26</span></span>
<span id="cb21-20"><a href="#cb21-20" tabindex="-1"></a><span class="do">### &gt; 7       1      7   2 25</span></span>
<span id="cb21-21"><a href="#cb21-21" tabindex="-1"></a><span class="do">### &gt; 8       1      3   3 24</span></span>
<span id="cb21-22"><a href="#cb21-22" tabindex="-1"></a><span class="do">### &gt; 9       0      2   3 23</span></span>
<span id="cb21-23"><a href="#cb21-23" tabindex="-1"></a><span class="do">### &gt; 10      0      4   2 23</span></span>
<span id="cb21-24"><a href="#cb21-24" tabindex="-1"></a><span class="do">### &gt; 11      0      5   2 23</span></span>
<span id="cb21-25"><a href="#cb21-25" tabindex="-1"></a><span class="do">### &gt; 12      0      1   2 22</span></span>
<span id="cb21-26"><a href="#cb21-26" tabindex="-1"></a><span class="do">### &gt; 13      0      3   3 22</span></span>
<span id="cb21-27"><a href="#cb21-27" tabindex="-1"></a><span class="do">### &gt; 14      0      6   3 22</span></span>
<span id="cb21-28"><a href="#cb21-28" tabindex="-1"></a><span class="do">### &gt; 15      1      3   4 22</span></span>
<span id="cb21-29"><a href="#cb21-29" tabindex="-1"></a><span class="do">### &gt; 16      0      1   4 21</span></span>
<span id="cb21-30"><a href="#cb21-30" tabindex="-1"></a><span class="do">### &gt; 17      0      2   2 21</span></span>
<span id="cb21-31"><a href="#cb21-31" tabindex="-1"></a><span class="do">### &gt; 18      1      2   3 21</span></span>
<span id="cb21-32"><a href="#cb21-32" tabindex="-1"></a><span class="do">### &gt; 19      1      3   2 21</span></span>
<span id="cb21-33"><a href="#cb21-33" tabindex="-1"></a><span class="do">### &gt; 20      0      6   2 20</span></span></code></pre></div>
<p>…or in terms of labels</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">tabl</span>(df, <span class="at">labs.on =</span> <span class="cn">TRUE</span>), <span class="dv">20</span>)</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="do">### &gt; Excluding variable --id-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="do">### &gt; Excluding variable --age-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="do">### &gt; Excluding variable --x2-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="do">### &gt; Note: To filter zero-frequency rows (i.e., un-observed value combinations)</span></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a><span class="do">### &gt; set zero.rm = TRUE.</span></span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a><span class="do">### &gt;    gender   raceth           edu   x1  n</span></span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a><span class="do">### &gt; 1    Male    Other Some College+ q020 18</span></span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a><span class="do">### &gt; 2    Male    White Some College+ q020 14</span></span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a><span class="do">### &gt; 3    Male    White Some College+ q060 14</span></span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a><span class="do">### &gt; 4  Female     AIAN Some College+ q020 13</span></span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a><span class="do">### &gt; 5  Female     AIAN Some College+ q060 13</span></span>
<span id="cb22-17"><a href="#cb22-17" tabindex="-1"></a><span class="do">### &gt; 6  Female Hispanic Some College+ q040 13</span></span>
<span id="cb22-18"><a href="#cb22-18" tabindex="-1"></a><span class="do">### &gt; 7  Female Hispanic Some College+ q100 13</span></span>
<span id="cb22-19"><a href="#cb22-19" tabindex="-1"></a><span class="do">### &gt; 8    Male     AIAN Some College+ q040 13</span></span>
<span id="cb22-20"><a href="#cb22-20" tabindex="-1"></a><span class="do">### &gt; 9  Female     AIAN Some College+ q080 12</span></span>
<span id="cb22-21"><a href="#cb22-21" tabindex="-1"></a><span class="do">### &gt; 10 Female    Asian Some College+ q080 12</span></span>
<span id="cb22-22"><a href="#cb22-22" tabindex="-1"></a><span class="do">### &gt; 11 Female    Black Some College+ q060 12</span></span>
<span id="cb22-23"><a href="#cb22-23" tabindex="-1"></a><span class="do">### &gt; 12   Male    Multi Some College+ q020 12</span></span>
<span id="cb22-24"><a href="#cb22-24" tabindex="-1"></a><span class="do">### &gt; 13   Male    Multi Some College+ q100 12</span></span>
<span id="cb22-25"><a href="#cb22-25" tabindex="-1"></a><span class="do">### &gt; 14   Male    White Some College+ q080 12</span></span>
<span id="cb22-26"><a href="#cb22-26" tabindex="-1"></a><span class="do">### &gt; 15 Female Hispanic Some College+ q020 11</span></span>
<span id="cb22-27"><a href="#cb22-27" tabindex="-1"></a><span class="do">### &gt; 16 Female    White Some College+ q080 11</span></span>
<span id="cb22-28"><a href="#cb22-28" tabindex="-1"></a><span class="do">### &gt; 17   Male    Asian Some College+ q040 11</span></span>
<span id="cb22-29"><a href="#cb22-29" tabindex="-1"></a><span class="do">### &gt; 18   Male    Black Some College+ q040 11</span></span>
<span id="cb22-30"><a href="#cb22-30" tabindex="-1"></a><span class="do">### &gt; 19   Male Hispanic Some College+ q100 11</span></span>
<span id="cb22-31"><a href="#cb22-31" tabindex="-1"></a><span class="do">### &gt; 20 Female     AIAN Some College+ q040 10</span></span></code></pre></div>
<p>…in proportions</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">tabl</span>(df, <span class="at">labs.on =</span> <span class="cn">TRUE</span>, <span class="at">prop.digits =</span> <span class="dv">3</span>), <span class="dv">20</span>)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="do">### &gt; Excluding variable --id-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="do">### &gt; Excluding variable --age-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a><span class="do">### &gt; Excluding variable --x2-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a><span class="do">### &gt; Note: To filter zero-frequency rows (i.e., un-observed value combinations)</span></span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a><span class="do">### &gt; set zero.rm = TRUE.</span></span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a><span class="do">### &gt;    gender   raceth           edu   x1     n</span></span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a><span class="do">### &gt; 1    Male    Other Some College+ q020 0.018</span></span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a><span class="do">### &gt; 2    Male    White Some College+ q020 0.014</span></span>
<span id="cb23-14"><a href="#cb23-14" tabindex="-1"></a><span class="do">### &gt; 3    Male    White Some College+ q060 0.014</span></span>
<span id="cb23-15"><a href="#cb23-15" tabindex="-1"></a><span class="do">### &gt; 4  Female     AIAN Some College+ q020 0.013</span></span>
<span id="cb23-16"><a href="#cb23-16" tabindex="-1"></a><span class="do">### &gt; 5  Female     AIAN Some College+ q060 0.013</span></span>
<span id="cb23-17"><a href="#cb23-17" tabindex="-1"></a><span class="do">### &gt; 6  Female Hispanic Some College+ q040 0.013</span></span>
<span id="cb23-18"><a href="#cb23-18" tabindex="-1"></a><span class="do">### &gt; 7  Female Hispanic Some College+ q100 0.013</span></span>
<span id="cb23-19"><a href="#cb23-19" tabindex="-1"></a><span class="do">### &gt; 8    Male     AIAN Some College+ q040 0.013</span></span>
<span id="cb23-20"><a href="#cb23-20" tabindex="-1"></a><span class="do">### &gt; 9  Female     AIAN Some College+ q080 0.012</span></span>
<span id="cb23-21"><a href="#cb23-21" tabindex="-1"></a><span class="do">### &gt; 10 Female    Asian Some College+ q080 0.012</span></span>
<span id="cb23-22"><a href="#cb23-22" tabindex="-1"></a><span class="do">### &gt; 11 Female    Black Some College+ q060 0.012</span></span>
<span id="cb23-23"><a href="#cb23-23" tabindex="-1"></a><span class="do">### &gt; 12   Male    Multi Some College+ q020 0.012</span></span>
<span id="cb23-24"><a href="#cb23-24" tabindex="-1"></a><span class="do">### &gt; 13   Male    Multi Some College+ q100 0.012</span></span>
<span id="cb23-25"><a href="#cb23-25" tabindex="-1"></a><span class="do">### &gt; 14   Male    White Some College+ q080 0.012</span></span>
<span id="cb23-26"><a href="#cb23-26" tabindex="-1"></a><span class="do">### &gt; 15 Female Hispanic Some College+ q020 0.011</span></span>
<span id="cb23-27"><a href="#cb23-27" tabindex="-1"></a><span class="do">### &gt; 16 Female    White Some College+ q080 0.011</span></span>
<span id="cb23-28"><a href="#cb23-28" tabindex="-1"></a><span class="do">### &gt; 17   Male    Asian Some College+ q040 0.011</span></span>
<span id="cb23-29"><a href="#cb23-29" tabindex="-1"></a><span class="do">### &gt; 18   Male    Black Some College+ q040 0.011</span></span>
<span id="cb23-30"><a href="#cb23-30" tabindex="-1"></a><span class="do">### &gt; 19   Male Hispanic Some College+ q100 0.011</span></span>
<span id="cb23-31"><a href="#cb23-31" tabindex="-1"></a><span class="do">### &gt; 20 Female     AIAN Some College+ q040 0.010</span></span></code></pre></div>
<p>…cross-tab style</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">tabl</span>(df, <span class="at">labs.on =</span> <span class="cn">TRUE</span>, <span class="at">wide.col =</span> <span class="st">&quot;gender&quot;</span>), <span class="dv">20</span>)</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="do">### &gt; Excluding variable --id-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a><span class="do">### &gt; Excluding variable --age-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a><span class="do">### &gt; Excluding variable --x2-- (includes decimals or exceeds max.unique.vals).</span></span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a><span class="do">### &gt; Note: To filter zero-frequency rows (i.e., un-observed value combinations)</span></span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a><span class="do">### &gt; set zero.rm = TRUE.</span></span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a><span class="do">### &gt;      raceth           edu   x1 Male Female Other</span></span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a><span class="do">### &gt; 1     Other Some College+ q020   18      5     1</span></span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a><span class="do">### &gt; 2     White Some College+ q020   14      5     0</span></span>
<span id="cb24-14"><a href="#cb24-14" tabindex="-1"></a><span class="do">### &gt; 3     White Some College+ q060   14      5     2</span></span>
<span id="cb24-15"><a href="#cb24-15" tabindex="-1"></a><span class="do">### &gt; 4      AIAN Some College+ q020    6     13     1</span></span>
<span id="cb24-16"><a href="#cb24-16" tabindex="-1"></a><span class="do">### &gt; 5      AIAN Some College+ q060    8     13     0</span></span>
<span id="cb24-17"><a href="#cb24-17" tabindex="-1"></a><span class="do">### &gt; 6  Hispanic Some College+ q040    8     13     0</span></span>
<span id="cb24-18"><a href="#cb24-18" tabindex="-1"></a><span class="do">### &gt; 7  Hispanic Some College+ q100   11     13     0</span></span>
<span id="cb24-19"><a href="#cb24-19" tabindex="-1"></a><span class="do">### &gt; 8      AIAN Some College+ q040   13     10     1</span></span>
<span id="cb24-20"><a href="#cb24-20" tabindex="-1"></a><span class="do">### &gt; 9      AIAN Some College+ q080    4     12     3</span></span>
<span id="cb24-21"><a href="#cb24-21" tabindex="-1"></a><span class="do">### &gt; 10    Asian Some College+ q080    5     12     0</span></span>
<span id="cb24-22"><a href="#cb24-22" tabindex="-1"></a><span class="do">### &gt; 11    Black Some College+ q060    9     12     1</span></span>
<span id="cb24-23"><a href="#cb24-23" tabindex="-1"></a><span class="do">### &gt; 12    Multi Some College+ q020   12     10     1</span></span>
<span id="cb24-24"><a href="#cb24-24" tabindex="-1"></a><span class="do">### &gt; 13    Multi Some College+ q100   12     10     0</span></span>
<span id="cb24-25"><a href="#cb24-25" tabindex="-1"></a><span class="do">### &gt; 14    White Some College+ q080   12     11     0</span></span>
<span id="cb24-26"><a href="#cb24-26" tabindex="-1"></a><span class="do">### &gt; 15 Hispanic Some College+ q020    8     11     2</span></span>
<span id="cb24-27"><a href="#cb24-27" tabindex="-1"></a><span class="do">### &gt; 16    Asian Some College+ q040   11      6     0</span></span>
<span id="cb24-28"><a href="#cb24-28" tabindex="-1"></a><span class="do">### &gt; 17    Black Some College+ q040   11      6     1</span></span>
<span id="cb24-29"><a href="#cb24-29" tabindex="-1"></a><span class="do">### &gt; 18    Black Some College+ q020    9     10     2</span></span>
<span id="cb24-30"><a href="#cb24-30" tabindex="-1"></a><span class="do">### &gt; 19 Hispanic Some College+ q060   10     10     1</span></span>
<span id="cb24-31"><a href="#cb24-31" tabindex="-1"></a><span class="do">### &gt; 20 Hispanic Some College+ q080    5     10     0</span></span></code></pre></div>
</div>
<div id="use-with-other-packages" class="section level3">
<h3>Use with Other Packages</h3>
<p><code>uvl()</code> is a more compact alias for
<code>use_val_labs()</code>. We can wrap it around our data.frame and
pass to other functions, which may yield more interpretable output. Here
is an illustration that passes a <code>uvl()</code> -wrapped data.frame
to the <code>qsu()</code> function of the collapse package.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># `collapse::qsu()`</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="co"># with labels &quot;off&quot; (i.e., using regular values of &quot;raceth&quot; as by var)</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>by_demog_val <span class="ot">&lt;-</span> collapse<span class="sc">::</span><span class="fu">qsu</span>(df, <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&quot;x2&quot;</span>), <span class="at">by =</span> <span class="sc">~</span>raceth)</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>by_demog_val</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a><span class="do">### &gt;      N    Mean      SD     Min     Max</span></span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a><span class="do">### &gt; 1  156  0.5067  0.2696  0.0018  0.9966</span></span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a><span class="do">### &gt; 2  147  0.4922  0.2755  0.0041  0.9951</span></span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a><span class="do">### &gt; 3  144  0.4951   0.299  0.0172  0.9992</span></span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a><span class="do">### &gt; 4  127  0.5461  0.2873   0.006  0.9885</span></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a><span class="do">### &gt; 5  155  0.5476  0.2995  0.0076   0.994</span></span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a><span class="do">### &gt; 6  140  0.5163  0.2798  0.0099  0.9915</span></span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a><span class="do">### &gt; 7  131  0.5132  0.2786  0.0014  0.9918</span></span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a><span class="co"># with labels &quot;on&quot; (i.e., using labels, thanks to `uvl()`)</span></span>
<span id="cb25-15"><a href="#cb25-15" tabindex="-1"></a>by_demog_lab <span class="ot">&lt;-</span> collapse<span class="sc">::</span><span class="fu">qsu</span>(<span class="fu">uvl</span>(df), <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&quot;x2&quot;</span>), <span class="at">by =</span> <span class="sc">~</span>raceth)</span>
<span id="cb25-16"><a href="#cb25-16" tabindex="-1"></a>by_demog_lab</span>
<span id="cb25-17"><a href="#cb25-17" tabindex="-1"></a><span class="do">### &gt;             N    Mean      SD     Min     Max</span></span>
<span id="cb25-18"><a href="#cb25-18" tabindex="-1"></a><span class="do">### &gt; AIAN      155  0.5476  0.2995  0.0076   0.994</span></span>
<span id="cb25-19"><a href="#cb25-19" tabindex="-1"></a><span class="do">### &gt; Asian     127  0.5461  0.2873   0.006  0.9885</span></span>
<span id="cb25-20"><a href="#cb25-20" tabindex="-1"></a><span class="do">### &gt; Black     147  0.4922  0.2755  0.0041  0.9951</span></span>
<span id="cb25-21"><a href="#cb25-21" tabindex="-1"></a><span class="do">### &gt; Hispanic  144  0.4951   0.299  0.0172  0.9992</span></span>
<span id="cb25-22"><a href="#cb25-22" tabindex="-1"></a><span class="do">### &gt; Multi     140  0.5163  0.2798  0.0099  0.9915</span></span>
<span id="cb25-23"><a href="#cb25-23" tabindex="-1"></a><span class="do">### &gt; Other     131  0.5132  0.2786  0.0014  0.9918</span></span>
<span id="cb25-24"><a href="#cb25-24" tabindex="-1"></a><span class="do">### &gt; White     156  0.5067  0.2696  0.0018  0.9966</span></span></code></pre></div>
<p>Note that the second call would achieve the same result if we used
<code>use_val_labs()</code>, but <code>uvl()</code> is a bit more
compact.</p>
</div>
</div>
<div id="demonstration-2---fake-likert-style-survey-data" class="section level2">
<h2>Demonstration 2 - (Fake) Likert-Style Survey Data</h2>
<p><code>add_val_labs</code> “vars” arg will do partial matching if
partial = TRUE. In this case, we catch all vars with “x” in their
name</p>
<div id="make-fake-likert-data-to-explore-labelr" class="section level3">
<h3>Make fake likert data to explore labelr</h3>
<p><code>make_likert_data</code> is another labelr-provided
function.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>dflik <span class="ot">&lt;-</span> <span class="fu">make_likert_data</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">seed =</span> <span class="dv">272</span>)</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="fu">head</span>(dflik)</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="do">### &gt;     id x1 x2 x3 x4 x5 y1 y2 y3 y4 y5</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a><span class="do">### &gt; U-1  1  5  7  2  2  2  7  1  1  4  2</span></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="do">### &gt; O-2  2  6  2  7  6  2  3  5  4  1  4</span></span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a><span class="do">### &gt; H-3  3  7  7  5  5  6  6  4  1  5  7</span></span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a><span class="do">### &gt; Z-4  4  4  5  5  4  5  6  3  7  3  4</span></span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a><span class="do">### &gt; C-5  5  3  3  3  1  6  2  7  6  3  5</span></span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a><span class="do">### &gt; P-6  6  7  3  5  3  7  5  7  1  6  2</span></span></code></pre></div>
<p>Put the variables we wish to label and the labels to use in
stand-alone vectors, which we will supply to <code>add_val_labs</code>
in a moment.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>vals2label <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>labs2use <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>  <span class="st">&quot;VSD&quot;</span>,</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>  <span class="st">&quot;SD&quot;</span>,</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>  <span class="st">&quot;D&quot;</span>,</span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>  <span class="st">&quot;N&quot;</span>,</span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a>  <span class="st">&quot;A&quot;</span>,</span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a>  <span class="st">&quot;SA&quot;</span>,</span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a>  <span class="st">&quot;VSA&quot;</span></span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="apply-the-same-labeling-scheme-to-many-variables-using-add_val_labs" class="section level3">
<h3>Apply the same labeling scheme to many variables using
<code>add_val_labs()</code></h3>
<p>Now, associate/apply the value labels to all vars with “x” in name
and var “y3.” Note: partial = TRUE.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>dflik <span class="ot">&lt;-</span> <span class="fu">add_val_labs</span>(</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>  <span class="at">data =</span> dflik, <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y3&quot;</span>), <span class="do">###  note the vars args</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>  <span class="at">vals =</span> vals2label,</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>  <span class="at">labs =</span> labs2use,</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>  <span class="at">partial =</span> <span class="cn">TRUE</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>)</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x1--:</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="do">### &gt;   var vals labs</span></span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a><span class="do">### &gt; 1  x1    1  VSD</span></span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a><span class="do">### &gt; 2  x1    2   SD</span></span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a><span class="do">### &gt; 3  x1    3    D</span></span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a><span class="do">### &gt; 4  x1    4    N</span></span>
<span id="cb28-13"><a href="#cb28-13" tabindex="-1"></a><span class="do">### &gt; 5  x1    5    A</span></span>
<span id="cb28-14"><a href="#cb28-14" tabindex="-1"></a><span class="do">### &gt; 6  x1    6   SA</span></span>
<span id="cb28-15"><a href="#cb28-15" tabindex="-1"></a><span class="do">### &gt; 7  x1    7  VSA</span></span>
<span id="cb28-16"><a href="#cb28-16" tabindex="-1"></a><span class="do">### &gt; 8  x1   NA   NA</span></span>
<span id="cb28-17"><a href="#cb28-17" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x2--:</span></span>
<span id="cb28-18"><a href="#cb28-18" tabindex="-1"></a><span class="do">### &gt;    var vals labs</span></span>
<span id="cb28-19"><a href="#cb28-19" tabindex="-1"></a><span class="do">### &gt; 9   x2    1  VSD</span></span>
<span id="cb28-20"><a href="#cb28-20" tabindex="-1"></a><span class="do">### &gt; 10  x2    2   SD</span></span>
<span id="cb28-21"><a href="#cb28-21" tabindex="-1"></a><span class="do">### &gt; 11  x2    3    D</span></span>
<span id="cb28-22"><a href="#cb28-22" tabindex="-1"></a><span class="do">### &gt; 12  x2    4    N</span></span>
<span id="cb28-23"><a href="#cb28-23" tabindex="-1"></a><span class="do">### &gt; 13  x2    5    A</span></span>
<span id="cb28-24"><a href="#cb28-24" tabindex="-1"></a><span class="do">### &gt; 14  x2    6   SA</span></span>
<span id="cb28-25"><a href="#cb28-25" tabindex="-1"></a><span class="do">### &gt; 15  x2    7  VSA</span></span>
<span id="cb28-26"><a href="#cb28-26" tabindex="-1"></a><span class="do">### &gt; 16  x2   NA   NA</span></span>
<span id="cb28-27"><a href="#cb28-27" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x3--:</span></span>
<span id="cb28-28"><a href="#cb28-28" tabindex="-1"></a><span class="do">### &gt;    var vals labs</span></span>
<span id="cb28-29"><a href="#cb28-29" tabindex="-1"></a><span class="do">### &gt; 17  x3    1  VSD</span></span>
<span id="cb28-30"><a href="#cb28-30" tabindex="-1"></a><span class="do">### &gt; 18  x3    2   SD</span></span>
<span id="cb28-31"><a href="#cb28-31" tabindex="-1"></a><span class="do">### &gt; 19  x3    3    D</span></span>
<span id="cb28-32"><a href="#cb28-32" tabindex="-1"></a><span class="do">### &gt; 20  x3    4    N</span></span>
<span id="cb28-33"><a href="#cb28-33" tabindex="-1"></a><span class="do">### &gt; 21  x3    5    A</span></span>
<span id="cb28-34"><a href="#cb28-34" tabindex="-1"></a><span class="do">### &gt; 22  x3    6   SA</span></span>
<span id="cb28-35"><a href="#cb28-35" tabindex="-1"></a><span class="do">### &gt; 23  x3    7  VSA</span></span>
<span id="cb28-36"><a href="#cb28-36" tabindex="-1"></a><span class="do">### &gt; 24  x3   NA   NA</span></span>
<span id="cb28-37"><a href="#cb28-37" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x4--:</span></span>
<span id="cb28-38"><a href="#cb28-38" tabindex="-1"></a><span class="do">### &gt;    var vals labs</span></span>
<span id="cb28-39"><a href="#cb28-39" tabindex="-1"></a><span class="do">### &gt; 25  x4    1  VSD</span></span>
<span id="cb28-40"><a href="#cb28-40" tabindex="-1"></a><span class="do">### &gt; 26  x4    2   SD</span></span>
<span id="cb28-41"><a href="#cb28-41" tabindex="-1"></a><span class="do">### &gt; 27  x4    3    D</span></span>
<span id="cb28-42"><a href="#cb28-42" tabindex="-1"></a><span class="do">### &gt; 28  x4    4    N</span></span>
<span id="cb28-43"><a href="#cb28-43" tabindex="-1"></a><span class="do">### &gt; 29  x4    5    A</span></span>
<span id="cb28-44"><a href="#cb28-44" tabindex="-1"></a><span class="do">### &gt; 30  x4    6   SA</span></span>
<span id="cb28-45"><a href="#cb28-45" tabindex="-1"></a><span class="do">### &gt; 31  x4    7  VSA</span></span>
<span id="cb28-46"><a href="#cb28-46" tabindex="-1"></a><span class="do">### &gt; 32  x4   NA   NA</span></span>
<span id="cb28-47"><a href="#cb28-47" tabindex="-1"></a><span class="do">### &gt; Labeling variable --x5--:</span></span>
<span id="cb28-48"><a href="#cb28-48" tabindex="-1"></a><span class="do">### &gt;    var vals labs</span></span>
<span id="cb28-49"><a href="#cb28-49" tabindex="-1"></a><span class="do">### &gt; 33  x5    1  VSD</span></span>
<span id="cb28-50"><a href="#cb28-50" tabindex="-1"></a><span class="do">### &gt; 34  x5    2   SD</span></span>
<span id="cb28-51"><a href="#cb28-51" tabindex="-1"></a><span class="do">### &gt; 35  x5    3    D</span></span>
<span id="cb28-52"><a href="#cb28-52" tabindex="-1"></a><span class="do">### &gt; 36  x5    4    N</span></span>
<span id="cb28-53"><a href="#cb28-53" tabindex="-1"></a><span class="do">### &gt; 37  x5    5    A</span></span>
<span id="cb28-54"><a href="#cb28-54" tabindex="-1"></a><span class="do">### &gt; 38  x5    6   SA</span></span>
<span id="cb28-55"><a href="#cb28-55" tabindex="-1"></a><span class="do">### &gt; 39  x5    7  VSA</span></span>
<span id="cb28-56"><a href="#cb28-56" tabindex="-1"></a><span class="do">### &gt; 40  x5   NA   NA</span></span>
<span id="cb28-57"><a href="#cb28-57" tabindex="-1"></a><span class="do">### &gt; Labeling variable --y3--:</span></span>
<span id="cb28-58"><a href="#cb28-58" tabindex="-1"></a><span class="do">### &gt;    var vals labs</span></span>
<span id="cb28-59"><a href="#cb28-59" tabindex="-1"></a><span class="do">### &gt; 41  y3    1  VSD</span></span>
<span id="cb28-60"><a href="#cb28-60" tabindex="-1"></a><span class="do">### &gt; 42  y3    2   SD</span></span>
<span id="cb28-61"><a href="#cb28-61" tabindex="-1"></a><span class="do">### &gt; 43  y3    3    D</span></span>
<span id="cb28-62"><a href="#cb28-62" tabindex="-1"></a><span class="do">### &gt; 44  y3    4    N</span></span>
<span id="cb28-63"><a href="#cb28-63" tabindex="-1"></a><span class="do">### &gt; 45  y3    5    A</span></span>
<span id="cb28-64"><a href="#cb28-64" tabindex="-1"></a><span class="do">### &gt; 46  y3    6   SA</span></span>
<span id="cb28-65"><a href="#cb28-65" tabindex="-1"></a><span class="do">### &gt; 47  y3    7  VSA</span></span>
<span id="cb28-66"><a href="#cb28-66" tabindex="-1"></a><span class="do">### &gt; 48  y3   NA   NA</span></span>
<span id="cb28-67"><a href="#cb28-67" tabindex="-1"></a><span class="do">### &gt; Remember: This command uses partial vars arg matching.</span></span>
<span id="cb28-68"><a href="#cb28-68" tabindex="-1"></a><span class="do">### &gt; Use a more specific vars argument or set partial = FALSE</span></span>
<span id="cb28-69"><a href="#cb28-69" tabindex="-1"></a><span class="do">### &gt; ...if you want to restrict labeling to fewer/more specific variables.</span></span></code></pre></div>
<p>Compare dflik with value labels present but “off” to labels “on.”</p>
<p>Present but “off.”</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">head</span>(dflik)</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="do">### &gt;     id x1 x2 x3 x4 x5 y1 y2 y3 y4 y5</span></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="do">### &gt; U-1  1  5  7  2  2  2  7  1  1  4  2</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a><span class="do">### &gt; O-2  2  6  2  7  6  2  3  5  4  1  4</span></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a><span class="do">### &gt; H-3  3  7  7  5  5  6  6  4  1  5  7</span></span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a><span class="do">### &gt; Z-4  4  4  5  5  4  5  6  3  7  3  4</span></span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a><span class="do">### &gt; C-5  5  3  3  3  1  6  2  7  6  3  5</span></span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a><span class="do">### &gt; P-6  6  7  3  5  3  7  5  7  1  6  2</span></span></code></pre></div>
<p>Let’s “turn on” (use) these value labels.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>lik1 <span class="ot">&lt;-</span> <span class="fu">use_val_labs</span>(dflik)</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="fu">head</span>(lik1)</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="do">### &gt;     id  x1  x2  x3  x4  x5 y1 y2  y3 y4 y5</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="do">### &gt; U-1  1   A VSA  SD  SD  SD  7  1 VSD  4  2</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a><span class="do">### &gt; O-2  2  SA  SD VSA  SA  SD  3  5   N  1  4</span></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="do">### &gt; H-3  3 VSA VSA   A   A  SA  6  4 VSD  5  7</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="do">### &gt; Z-4  4   N   A   A   N   A  6  3 VSA  3  4</span></span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a><span class="do">### &gt; C-5  5   D   D   D VSD  SA  2  7  SA  3  5</span></span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a><span class="do">### &gt; P-6  6 VSA   D   A   D VSA  5  7 VSD  6  2</span></span></code></pre></div>
<p>All variables with “x” in their name (and “y3”) got the labels! This
can’t be reversed (without re-running our preceding code, at least!),
so, we saved the result of <code>use_val_labs</code> to a different
object (lik1).</p>
</div>
<div id="discard-value-labels-we-dont-want-using-drop_val_labs" class="section level3">
<h3>Discard value labels we don’t want using
<code>drop_val_labs</code></h3>
<p>Let’s demo <code>drop_val_labs</code> while we’re here.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>dfdrop <span class="ot">&lt;-</span> <span class="fu">drop_val_labs</span>(dflik,</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;x2&quot;</span>, <span class="st">&quot;y3&quot;</span>),</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>  <span class="at">partial =</span> <span class="cn">FALSE</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>)</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --x2--.</span></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --y3--.</span></span></code></pre></div>
<p>Our value labels are here, except for variables “x2” and “y3”</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">get_val_labs</span>(dfdrop, <span class="st">&quot;x2&quot;</span>)</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="do">### &gt; Warning in get_val_labs(dfdrop, &quot;x2&quot;): </span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="do">### &gt;  </span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="do">### &gt;   No val.labs found.</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="do">### &gt; [1] var  vals labs</span></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="do">### &gt; &lt;0 rows&gt; (or 0-length row.names)</span></span></code></pre></div>
<p>Compare to values for variable “x1” (we did not drop value labels
from this one)</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="fu">get_val_labs</span>(dfdrop, <span class="st">&quot;x1&quot;</span>)</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="do">### &gt;   var vals labs</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="do">### &gt; 1  x1    1  VSD</span></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="do">### &gt; 2  x1    2   SD</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a><span class="do">### &gt; 3  x1    3    D</span></span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="do">### &gt; 4  x1    4    N</span></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a><span class="do">### &gt; 5  x1    5    A</span></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a><span class="do">### &gt; 6  x1    6   SA</span></span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a><span class="do">### &gt; 7  x1    7  VSA</span></span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="do">### &gt; 8  x1   NA   NA</span></span></code></pre></div>
<p>We can also drop value labels from all variables with “x” in their
variable names.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>dfxgone <span class="ot">&lt;-</span> <span class="fu">drop_val_labs</span>(dflik,</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>),</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a>  <span class="at">partial =</span> <span class="cn">TRUE</span></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a>)</span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="do">### &gt; Remember: This command uses partial var arg matching.</span></span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a><span class="do">### &gt; Use specific var argument or drop_val1() to restrict this operation to fewer/more specific variables.</span></span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb34-9"><a href="#cb34-9" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --x1--.</span></span>
<span id="cb34-10"><a href="#cb34-10" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb34-11"><a href="#cb34-11" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --x2--.</span></span>
<span id="cb34-12"><a href="#cb34-12" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb34-13"><a href="#cb34-13" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --x3--.</span></span>
<span id="cb34-14"><a href="#cb34-14" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb34-15"><a href="#cb34-15" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --x4--.</span></span>
<span id="cb34-16"><a href="#cb34-16" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb34-17"><a href="#cb34-17" tabindex="-1"></a><span class="do">### &gt;   Dropping all value labels from variable --x5--.</span></span></code></pre></div>
<p>We still have value labels for “y3”, but all the “x” var value labels
are gone.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="fu">get_val_labs</span>(dfxgone)</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="do">### &gt;   var vals labs</span></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a><span class="do">### &gt; 1  y3    1  VSD</span></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a><span class="do">### &gt; 2  y3    2   SD</span></span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a><span class="do">### &gt; 3  y3    3    D</span></span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a><span class="do">### &gt; 4  y3    4    N</span></span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a><span class="do">### &gt; 5  y3    5    A</span></span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a><span class="do">### &gt; 6  y3    6   SA</span></span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a><span class="do">### &gt; 7  y3    7  VSA</span></span>
<span id="cb35-10"><a href="#cb35-10" tabindex="-1"></a><span class="do">### &gt; 8  y3   NA   NA</span></span></code></pre></div>
</div>
</div>
<div id="demonstration-3---motor-trend-cars-mtcars" class="section level2">
<h2>Demonstration 3 - Motor Trend Cars (mtcars)</h2>
<p>mtcars frequently appears in R examples and demonstrations, so, let’s
use it to lock in our understanding of labelr. <br></p>
<p>We’ll start by assigning mtcars to a new data.frame that we’ll call
mt2.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> mtcars</span></code></pre></div>
<p>First, let’s inject a missing row into the data, to keep things
interesting</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>mt2[<span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="fu">rownames</span>(mt2)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Missing Car&quot;</span></span></code></pre></div>
<p>Let’s add a “frame label,” which describes the data.frame
overall.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_frame_lab</span>(mt2, <span class="at">frame.lab =</span> <span class="st">&quot;Data extracted from the 1974 Motor</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a><span class="st">Trend US magazine, comprising fuel consumption and 10 aspects of automobile</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="st">design and performance for 32 automobiles (1973–74 models). Source: Henderson</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="st">and Velleman (1981), Building multiple regression models interactively.</span></span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a><span class="st"> Biometrics, 37, 391–411.&quot;</span>)</span></code></pre></div>
<p>Let’s see what this did.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="fu">attr</span>(mt2, <span class="st">&quot;frame.lab&quot;</span>) <span class="co"># check for attribute</span></span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a><span class="do">### &gt; [1] &quot;Data extracted from the 1974 MotorTrend US magazine, comprising fuel consumption and 10 aspects of automobiledesign and performance for 32 automobiles (1973–74 models). Source: Hendersonand Velleman (1981), Building multiple regression models interactively. Biometrics, 37, 391–411.&quot;</span></span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a><span class="fu">get_frame_lab</span>(mt2) <span class="co"># return frame.lab alongside data.frame name as a data.frame</span></span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a><span class="do">### &gt;   data.frame</span></span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a><span class="do">### &gt; 1        mt2</span></span>
<span id="cb39-7"><a href="#cb39-7" tabindex="-1"></a><span class="do">### &gt;                                                                                                                                                                                                                                                                                    frame.lab</span></span>
<span id="cb39-8"><a href="#cb39-8" tabindex="-1"></a><span class="do">### &gt; 1 Data extracted from the 1974 MotorTrend US magazine, comprising fuel consumption and 10 aspects of automobiledesign and performance for 32 automobiles (1973–74 models). Source: Hendersonand Velleman (1981), Building multiple regression models interactively. Biometrics, 37, 391–411.</span></span>
<span id="cb39-9"><a href="#cb39-9" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" tabindex="-1"></a><span class="fu">get_frame_lab</span>(mt2)<span class="sc">$</span>frame.lab</span>
<span id="cb39-11"><a href="#cb39-11" tabindex="-1"></a><span class="do">### &gt; [1] &quot;Data extracted from the 1974 MotorTrend US magazine, comprising fuel consumption and 10 aspects of automobiledesign and performance for 32 automobiles (1973–74 models). Source: Hendersonand Velleman (1981), Building multiple regression models interactively. Biometrics, 37, 391–411.&quot;</span></span></code></pre></div>
<p>Let’s create variable name labels, using named character vector
syntax</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>names_labs_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a>  <span class="st">&quot;mpg&quot;</span> <span class="ot">=</span> <span class="st">&quot;Miles/(US) gallon&quot;</span>,</span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a>  <span class="st">&quot;cyl&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of cylinders&quot;</span>,</span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a>  <span class="st">&quot;disp&quot;</span> <span class="ot">=</span> <span class="st">&quot;Displacement (cu.in.)&quot;</span>,</span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a>  <span class="st">&quot;hp&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gross horsepower&quot;</span>,</span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a>  <span class="st">&quot;drat&quot;</span> <span class="ot">=</span> <span class="st">&quot;Rear axle ratio&quot;</span>,</span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a>  <span class="st">&quot;wt&quot;</span> <span class="ot">=</span> <span class="st">&quot;Weight (1000 lbs)&quot;</span>,</span>
<span id="cb40-8"><a href="#cb40-8" tabindex="-1"></a>  <span class="st">&quot;qsec&quot;</span> <span class="ot">=</span> <span class="st">&quot;1/4 mile time&quot;</span>,</span>
<span id="cb40-9"><a href="#cb40-9" tabindex="-1"></a>  <span class="st">&quot;vs&quot;</span> <span class="ot">=</span> <span class="st">&quot;Engine (0 = V-shaped, 1 = straight)&quot;</span>,</span>
<span id="cb40-10"><a href="#cb40-10" tabindex="-1"></a>  <span class="st">&quot;am&quot;</span> <span class="ot">=</span> <span class="st">&quot;Transmission (0 = automatic, 1 = manual)&quot;</span>,</span>
<span id="cb40-11"><a href="#cb40-11" tabindex="-1"></a>  <span class="st">&quot;gear&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of forward gears&quot;</span>,</span>
<span id="cb40-12"><a href="#cb40-12" tabindex="-1"></a>  <span class="st">&quot;carb&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of carburetors&quot;</span></span>
<span id="cb40-13"><a href="#cb40-13" tabindex="-1"></a>)</span></code></pre></div>
<p>Now, we will assign these variable NAME labels</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_name_labs</span>(mt2,</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a>  <span class="at">vars =</span> <span class="fu">names</span>(names_labs_vec),</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a>  <span class="at">labs =</span> names_labs_vec</span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a>)</span></code></pre></div>
<p>Here is an alternative syntax (same end state)</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_name_labs</span>(mt2,</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a>  <span class="at">name.labs =</span> <span class="fu">c</span>(</span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a>    <span class="st">&quot;mpg&quot;</span> <span class="ot">=</span> <span class="st">&quot;Miles/(US) gallon&quot;</span>,</span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a>    <span class="st">&quot;cyl&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of cylinders&quot;</span>,</span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a>    <span class="st">&quot;disp&quot;</span> <span class="ot">=</span> <span class="st">&quot;Displacement (cu.in.)&quot;</span>,</span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a>    <span class="st">&quot;hp&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gross horsepower&quot;</span>,</span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a>    <span class="st">&quot;drat&quot;</span> <span class="ot">=</span> <span class="st">&quot;Rear axle ratio&quot;</span>,</span>
<span id="cb42-8"><a href="#cb42-8" tabindex="-1"></a>    <span class="st">&quot;wt&quot;</span> <span class="ot">=</span> <span class="st">&quot;Weight (1000 lbs)&quot;</span>,</span>
<span id="cb42-9"><a href="#cb42-9" tabindex="-1"></a>    <span class="st">&quot;qsec&quot;</span> <span class="ot">=</span> <span class="st">&quot;1/4 mile time&quot;</span>,</span>
<span id="cb42-10"><a href="#cb42-10" tabindex="-1"></a>    <span class="st">&quot;vs&quot;</span> <span class="ot">=</span> <span class="st">&quot;Engine (0 = V-shaped, 1 = straight)&quot;</span>,</span>
<span id="cb42-11"><a href="#cb42-11" tabindex="-1"></a>    <span class="st">&quot;am&quot;</span> <span class="ot">=</span> <span class="st">&quot;Transmission (0 = automatic, 1 = manual)&quot;</span>,</span>
<span id="cb42-12"><a href="#cb42-12" tabindex="-1"></a>    <span class="st">&quot;gear&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of forward gears&quot;</span>,</span>
<span id="cb42-13"><a href="#cb42-13" tabindex="-1"></a>    <span class="st">&quot;carb&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of carburetors&quot;</span></span>
<span id="cb42-14"><a href="#cb42-14" tabindex="-1"></a>  )</span>
<span id="cb42-15"><a href="#cb42-15" tabindex="-1"></a>)</span></code></pre></div>
<div id="update-pre-existing-name-labels-with-add_name_labs" class="section level3">
<h3>Update pre-existing name labels with
<code>add_name_labs()</code></h3>
<p>We can replace individual variable name labels, keeping the others as
they were.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_name_labs</span>(mt2,</span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a>  <span class="at">name.labs =</span> <span class="fu">c</span>(</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a>    <span class="st">&quot;disp&quot;</span> <span class="ot">=</span> <span class="fu">toupper</span>(<span class="st">&quot;UH OH!&quot;</span>),</span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a>    <span class="st">&quot;mpg&quot;</span> <span class="ot">=</span> <span class="fu">toupper</span>(<span class="st">&quot;i, said, uh oh!!&quot;</span>)</span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a>  )</span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a>)</span></code></pre></div>
<p>Let’s see what this did</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="fu">get_name_labs</span>(mt2)</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="do">### &gt;     var                                      lab</span></span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a><span class="do">### &gt; 1   mpg                         I, SAID, UH OH!!</span></span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a><span class="do">### &gt; 2   cyl                      Number of cylinders</span></span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a><span class="do">### &gt; 3  disp                                   UH OH!</span></span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a><span class="do">### &gt; 4    hp                         Gross horsepower</span></span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a><span class="do">### &gt; 5  drat                          Rear axle ratio</span></span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a><span class="do">### &gt; 6    wt                        Weight (1000 lbs)</span></span>
<span id="cb44-9"><a href="#cb44-9" tabindex="-1"></a><span class="do">### &gt; 7  qsec                            1/4 mile time</span></span>
<span id="cb44-10"><a href="#cb44-10" tabindex="-1"></a><span class="do">### &gt; 8    vs      Engine (0 = V-shaped, 1 = straight)</span></span>
<span id="cb44-11"><a href="#cb44-11" tabindex="-1"></a><span class="do">### &gt; 9    am Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb44-12"><a href="#cb44-12" tabindex="-1"></a><span class="do">### &gt; 10 gear                  Number of forward gears</span></span>
<span id="cb44-13"><a href="#cb44-13" tabindex="-1"></a><span class="do">### &gt; 11 carb                    Number of carburetors</span></span>
<span id="cb44-14"><a href="#cb44-14" tabindex="-1"></a></span>
<span id="cb44-15"><a href="#cb44-15" tabindex="-1"></a><span class="fu">get_name_labs</span>(mt2, <span class="at">var =</span> <span class="fu">c</span>(<span class="st">&quot;disp&quot;</span>, <span class="st">&quot;mpg&quot;</span>))</span>
<span id="cb44-16"><a href="#cb44-16" tabindex="-1"></a><span class="do">### &gt;    var              lab</span></span>
<span id="cb44-17"><a href="#cb44-17" tabindex="-1"></a><span class="do">### &gt; 1  mpg I, SAID, UH OH!!</span></span>
<span id="cb44-18"><a href="#cb44-18" tabindex="-1"></a><span class="do">### &gt; 2 disp           UH OH!</span></span></code></pre></div>
<p>Enough shenanigans. Let’s fix them.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_name_labs</span>(mt2,</span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a>  <span class="at">vars =</span> <span class="fu">names</span>(names_labs_vec),</span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a>  <span class="at">labs =</span> names_labs_vec</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>)</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a><span class="fu">get_name_labs</span>(mt2)</span>
<span id="cb45-7"><a href="#cb45-7" tabindex="-1"></a><span class="do">### &gt;     var                                      lab</span></span>
<span id="cb45-8"><a href="#cb45-8" tabindex="-1"></a><span class="do">### &gt; 1   mpg                        Miles/(US) gallon</span></span>
<span id="cb45-9"><a href="#cb45-9" tabindex="-1"></a><span class="do">### &gt; 2   cyl                      Number of cylinders</span></span>
<span id="cb45-10"><a href="#cb45-10" tabindex="-1"></a><span class="do">### &gt; 3  disp                    Displacement (cu.in.)</span></span>
<span id="cb45-11"><a href="#cb45-11" tabindex="-1"></a><span class="do">### &gt; 4    hp                         Gross horsepower</span></span>
<span id="cb45-12"><a href="#cb45-12" tabindex="-1"></a><span class="do">### &gt; 5  drat                          Rear axle ratio</span></span>
<span id="cb45-13"><a href="#cb45-13" tabindex="-1"></a><span class="do">### &gt; 6    wt                        Weight (1000 lbs)</span></span>
<span id="cb45-14"><a href="#cb45-14" tabindex="-1"></a><span class="do">### &gt; 7  qsec                            1/4 mile time</span></span>
<span id="cb45-15"><a href="#cb45-15" tabindex="-1"></a><span class="do">### &gt; 8    vs      Engine (0 = V-shaped, 1 = straight)</span></span>
<span id="cb45-16"><a href="#cb45-16" tabindex="-1"></a><span class="do">### &gt; 9    am Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb45-17"><a href="#cb45-17" tabindex="-1"></a><span class="do">### &gt; 10 gear                  Number of forward gears</span></span>
<span id="cb45-18"><a href="#cb45-18" tabindex="-1"></a><span class="do">### &gt; 11 carb                    Number of carburetors</span></span></code></pre></div>
<p>That’s better.</p>
</div>
<div id="switch-variable-names-and-name-labels-using-use_name_labs" class="section level3">
<h3>Switch variable names and name labels using
<code>use_name_labs()</code></h3>
<p>We can swap out variable name labels for variable names</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">use_name_labs</span>(mt2)</span></code></pre></div>
<p>The result is verbose!</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="fu">head</span>(mt2[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)])</span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="do">### &gt;                   Miles/(US) gallon Number of cylinders</span></span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="do">### &gt; Missing Car                      NA                  NA</span></span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag                  21.0                   6</span></span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a><span class="do">### &gt; Datsun 710                     22.8                   4</span></span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive                 21.4                   6</span></span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout              18.7                   8</span></span>
<span id="cb47-8"><a href="#cb47-8" tabindex="-1"></a><span class="do">### &gt; Valiant                        18.1                   6</span></span></code></pre></div>
</div>
<div id="switch-back-to-variable-names-using-use_var_names" class="section level3">
<h3>Switch back to variable names using
<code>use_var_names()</code></h3>
<p>Let’s revert to our old names.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">use_var_names</span>(mt2)</span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a><span class="fu">head</span>(mt2[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)])</span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a><span class="do">### &gt;                    mpg cyl</span></span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a><span class="do">### &gt; Missing Car         NA  NA</span></span>
<span id="cb48-5"><a href="#cb48-5" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag     21.0   6</span></span>
<span id="cb48-6"><a href="#cb48-6" tabindex="-1"></a><span class="do">### &gt; Datsun 710        22.8   4</span></span>
<span id="cb48-7"><a href="#cb48-7" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive    21.4   6</span></span>
<span id="cb48-8"><a href="#cb48-8" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout 18.7   8</span></span>
<span id="cb48-9"><a href="#cb48-9" tabindex="-1"></a><span class="do">### &gt; Valiant           18.1   6</span></span></code></pre></div>
</div>
<div id="work-with-name-labels-for-more-descriptive-and-verbose-calls-and-output" class="section level3">
<h3>Work with name labels for more descriptive (and verbose!) calls and
output</h3>
<p>We can use <code>get_name_labs</code> and copy-and-paste to work with
these.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">use_name_labs</span>(mt2)</span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a><span class="fu">lm</span>(<span class="st">`</span><span class="at">Miles/(US) gallon</span><span class="st">`</span> <span class="sc">~</span> <span class="st">`</span><span class="at">Number of cylinders</span><span class="st">`</span>, <span class="at">data =</span> mt2)</span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb49-4"><a href="#cb49-4" tabindex="-1"></a><span class="do">### &gt; Call:</span></span>
<span id="cb49-5"><a href="#cb49-5" tabindex="-1"></a><span class="do">### &gt; lm(formula = `Miles/(US) gallon` ~ `Number of cylinders`, data = mt2)</span></span>
<span id="cb49-6"><a href="#cb49-6" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb49-7"><a href="#cb49-7" tabindex="-1"></a><span class="do">### &gt; Coefficients:</span></span>
<span id="cb49-8"><a href="#cb49-8" tabindex="-1"></a><span class="do">### &gt;           (Intercept)  `Number of cylinders`  </span></span>
<span id="cb49-9"><a href="#cb49-9" tabindex="-1"></a><span class="do">### &gt;                37.868                 -2.875</span></span>
<span id="cb49-10"><a href="#cb49-10" tabindex="-1"></a><span class="fu">lm</span>(mpg <span class="sc">~</span> cyl, <span class="at">data =</span> <span class="fu">use_var_names</span>(mt2))</span>
<span id="cb49-11"><a href="#cb49-11" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb49-12"><a href="#cb49-12" tabindex="-1"></a><span class="do">### &gt; Call:</span></span>
<span id="cb49-13"><a href="#cb49-13" tabindex="-1"></a><span class="do">### &gt; lm(formula = mpg ~ cyl, data = use_var_names(mt2))</span></span>
<span id="cb49-14"><a href="#cb49-14" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb49-15"><a href="#cb49-15" tabindex="-1"></a><span class="do">### &gt; Coefficients:</span></span>
<span id="cb49-16"><a href="#cb49-16" tabindex="-1"></a><span class="do">### &gt; (Intercept)          cyl  </span></span>
<span id="cb49-17"><a href="#cb49-17" tabindex="-1"></a><span class="do">### &gt;      37.868       -2.875</span></span></code></pre></div>
<p>Turn them back off</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">use_var_names</span>(mt2)</span></code></pre></div>
</div>
<div id="interactively-swap-in-name-labels-for-column-names" class="section level3">
<h3>Interactively swap in name labels for column names</h3>
<p>We can use <code>with_name_labs()</code> (or the more compact alias
<code>wnl()</code>) to display name labels in place of column labels in
fairly flexible ways.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="co"># verify that we still have name labels</span></span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a><span class="fu">get_name_labs</span>(mt2)</span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a><span class="do">### &gt;     var                                      lab</span></span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a><span class="do">### &gt; 1   mpg                        Miles/(US) gallon</span></span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a><span class="do">### &gt; 2   cyl                      Number of cylinders</span></span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a><span class="do">### &gt; 3  disp                    Displacement (cu.in.)</span></span>
<span id="cb51-7"><a href="#cb51-7" tabindex="-1"></a><span class="do">### &gt; 4    hp                         Gross horsepower</span></span>
<span id="cb51-8"><a href="#cb51-8" tabindex="-1"></a><span class="do">### &gt; 5  drat                          Rear axle ratio</span></span>
<span id="cb51-9"><a href="#cb51-9" tabindex="-1"></a><span class="do">### &gt; 6    wt                        Weight (1000 lbs)</span></span>
<span id="cb51-10"><a href="#cb51-10" tabindex="-1"></a><span class="do">### &gt; 7  qsec                            1/4 mile time</span></span>
<span id="cb51-11"><a href="#cb51-11" tabindex="-1"></a><span class="do">### &gt; 8    vs      Engine (0 = V-shaped, 1 = straight)</span></span>
<span id="cb51-12"><a href="#cb51-12" tabindex="-1"></a><span class="do">### &gt; 9    am Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb51-13"><a href="#cb51-13" tabindex="-1"></a><span class="do">### &gt; 10 gear                  Number of forward gears</span></span>
<span id="cb51-14"><a href="#cb51-14" tabindex="-1"></a><span class="do">### &gt; 11 carb                    Number of carburetors</span></span>
<span id="cb51-15"><a href="#cb51-15" tabindex="-1"></a></span>
<span id="cb51-16"><a href="#cb51-16" tabindex="-1"></a><span class="co"># demo wnl() (note that with_name_labs() will achieve same result)</span></span>
<span id="cb51-17"><a href="#cb51-17" tabindex="-1"></a><span class="fu">wnl</span>(mt2, <span class="fu">t.test</span>(mpg <span class="sc">~</span> am))</span>
<span id="cb51-18"><a href="#cb51-18" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb51-19"><a href="#cb51-19" tabindex="-1"></a><span class="do">### &gt;   Welch Two Sample t-test</span></span>
<span id="cb51-20"><a href="#cb51-20" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb51-21"><a href="#cb51-21" tabindex="-1"></a><span class="do">### &gt; data:  Miles/(US) gallon by Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb51-22"><a href="#cb51-22" tabindex="-1"></a><span class="do">### &gt; t = -3.7014, df = 16.123, p-value = 0.001915</span></span>
<span id="cb51-23"><a href="#cb51-23" tabindex="-1"></a><span class="do">### &gt; alternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0</span></span>
<span id="cb51-24"><a href="#cb51-24" tabindex="-1"></a><span class="do">### &gt; 95 percent confidence interval:</span></span>
<span id="cb51-25"><a href="#cb51-25" tabindex="-1"></a><span class="do">### &gt;  -11.836301  -3.218963</span></span>
<span id="cb51-26"><a href="#cb51-26" tabindex="-1"></a><span class="do">### &gt; sample estimates:</span></span>
<span id="cb51-27"><a href="#cb51-27" tabindex="-1"></a><span class="do">### &gt; mean in group 0 mean in group 1 </span></span>
<span id="cb51-28"><a href="#cb51-28" tabindex="-1"></a><span class="do">### &gt;        17.14737        24.67500</span></span>
<span id="cb51-29"><a href="#cb51-29" tabindex="-1"></a></span>
<span id="cb51-30"><a href="#cb51-30" tabindex="-1"></a><span class="fu">wnl</span>(mt2, <span class="fu">lm</span>(mpg <span class="sc">~</span> am))</span>
<span id="cb51-31"><a href="#cb51-31" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb51-32"><a href="#cb51-32" tabindex="-1"></a><span class="do">### &gt; Call:</span></span>
<span id="cb51-33"><a href="#cb51-33" tabindex="-1"></a><span class="do">### &gt; lm(formula = `Miles/(US) gallon` ~ `Transmission (0 = automatic, 1 = manual)`)</span></span>
<span id="cb51-34"><a href="#cb51-34" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb51-35"><a href="#cb51-35" tabindex="-1"></a><span class="do">### &gt; Coefficients:</span></span>
<span id="cb51-36"><a href="#cb51-36" tabindex="-1"></a><span class="do">### &gt;                                (Intercept)  </span></span>
<span id="cb51-37"><a href="#cb51-37" tabindex="-1"></a><span class="do">### &gt;                                     17.147  </span></span>
<span id="cb51-38"><a href="#cb51-38" tabindex="-1"></a><span class="do">### &gt; `Transmission (0 = automatic, 1 = manual)`  </span></span>
<span id="cb51-39"><a href="#cb51-39" tabindex="-1"></a><span class="do">### &gt;                                      7.528</span></span>
<span id="cb51-40"><a href="#cb51-40" tabindex="-1"></a></span>
<span id="cb51-41"><a href="#cb51-41" tabindex="-1"></a><span class="fu">wnl</span>(mt2, <span class="fu">summary</span>(mt2))</span>
<span id="cb51-42"><a href="#cb51-42" tabindex="-1"></a><span class="do">### &gt;  Miles/(US) gallon Number of cylinders Displacement (cu.in.) Gross horsepower</span></span>
<span id="cb51-43"><a href="#cb51-43" tabindex="-1"></a><span class="do">### &gt;  Min.   :10.40     Min.   :4.000       Min.   : 71.1         Min.   : 52.0   </span></span>
<span id="cb51-44"><a href="#cb51-44" tabindex="-1"></a><span class="do">### &gt;  1st Qu.:15.35     1st Qu.:4.000       1st Qu.:120.7         1st Qu.: 96.0   </span></span>
<span id="cb51-45"><a href="#cb51-45" tabindex="-1"></a><span class="do">### &gt;  Median :19.20     Median :6.000       Median :225.0         Median :123.0   </span></span>
<span id="cb51-46"><a href="#cb51-46" tabindex="-1"></a><span class="do">### &gt;  Mean   :20.06     Mean   :6.194       Mean   :233.0         Mean   :147.9   </span></span>
<span id="cb51-47"><a href="#cb51-47" tabindex="-1"></a><span class="do">### &gt;  3rd Qu.:22.80     3rd Qu.:8.000       3rd Qu.:334.0         3rd Qu.:180.0   </span></span>
<span id="cb51-48"><a href="#cb51-48" tabindex="-1"></a><span class="do">### &gt;  Max.   :33.90     Max.   :8.000       Max.   :472.0         Max.   :335.0   </span></span>
<span id="cb51-49"><a href="#cb51-49" tabindex="-1"></a><span class="do">### &gt;  NA&#39;s   :1         NA&#39;s   :1           NA&#39;s   :1             NA&#39;s   :1       </span></span>
<span id="cb51-50"><a href="#cb51-50" tabindex="-1"></a><span class="do">### &gt;  Rear axle ratio Weight (1000 lbs) 1/4 mile time  </span></span>
<span id="cb51-51"><a href="#cb51-51" tabindex="-1"></a><span class="do">### &gt;  Min.   :2.760   Min.   :1.513     Min.   :14.50  </span></span>
<span id="cb51-52"><a href="#cb51-52" tabindex="-1"></a><span class="do">### &gt;  1st Qu.:3.080   1st Qu.:2.618     1st Qu.:16.96  </span></span>
<span id="cb51-53"><a href="#cb51-53" tabindex="-1"></a><span class="do">### &gt;  Median :3.690   Median :3.435     Median :17.82  </span></span>
<span id="cb51-54"><a href="#cb51-54" tabindex="-1"></a><span class="do">### &gt;  Mean   :3.587   Mean   :3.237     Mean   :17.89  </span></span>
<span id="cb51-55"><a href="#cb51-55" tabindex="-1"></a><span class="do">### &gt;  3rd Qu.:3.920   3rd Qu.:3.650     3rd Qu.:18.90  </span></span>
<span id="cb51-56"><a href="#cb51-56" tabindex="-1"></a><span class="do">### &gt;  Max.   :4.930   Max.   :5.424     Max.   :22.90  </span></span>
<span id="cb51-57"><a href="#cb51-57" tabindex="-1"></a><span class="do">### &gt;  NA&#39;s   :1       NA&#39;s   :1         NA&#39;s   :1      </span></span>
<span id="cb51-58"><a href="#cb51-58" tabindex="-1"></a><span class="do">### &gt;  Engine (0 = V-shaped, 1 = straight) Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb51-59"><a href="#cb51-59" tabindex="-1"></a><span class="do">### &gt;  Min.   :0.0000                      Min.   :0.0000                          </span></span>
<span id="cb51-60"><a href="#cb51-60" tabindex="-1"></a><span class="do">### &gt;  1st Qu.:0.0000                      1st Qu.:0.0000                          </span></span>
<span id="cb51-61"><a href="#cb51-61" tabindex="-1"></a><span class="do">### &gt;  Median :0.0000                      Median :0.0000                          </span></span>
<span id="cb51-62"><a href="#cb51-62" tabindex="-1"></a><span class="do">### &gt;  Mean   :0.4516                      Mean   :0.3871                          </span></span>
<span id="cb51-63"><a href="#cb51-63" tabindex="-1"></a><span class="do">### &gt;  3rd Qu.:1.0000                      3rd Qu.:1.0000                          </span></span>
<span id="cb51-64"><a href="#cb51-64" tabindex="-1"></a><span class="do">### &gt;  Max.   :1.0000                      Max.   :1.0000                          </span></span>
<span id="cb51-65"><a href="#cb51-65" tabindex="-1"></a><span class="do">### &gt;  NA&#39;s   :1                           NA&#39;s   :1                               </span></span>
<span id="cb51-66"><a href="#cb51-66" tabindex="-1"></a><span class="do">### &gt;  Number of forward gears Number of carburetors</span></span>
<span id="cb51-67"><a href="#cb51-67" tabindex="-1"></a><span class="do">### &gt;  Min.   :3.000           Min.   :1.000        </span></span>
<span id="cb51-68"><a href="#cb51-68" tabindex="-1"></a><span class="do">### &gt;  1st Qu.:3.000           1st Qu.:2.000        </span></span>
<span id="cb51-69"><a href="#cb51-69" tabindex="-1"></a><span class="do">### &gt;  Median :4.000           Median :2.000        </span></span>
<span id="cb51-70"><a href="#cb51-70" tabindex="-1"></a><span class="do">### &gt;  Mean   :3.677           Mean   :2.774        </span></span>
<span id="cb51-71"><a href="#cb51-71" tabindex="-1"></a><span class="do">### &gt;  3rd Qu.:4.000           3rd Qu.:4.000        </span></span>
<span id="cb51-72"><a href="#cb51-72" tabindex="-1"></a><span class="do">### &gt;  Max.   :5.000           Max.   :8.000        </span></span>
<span id="cb51-73"><a href="#cb51-73" tabindex="-1"></a><span class="do">### &gt;  NA&#39;s   :1               NA&#39;s   :1</span></span>
<span id="cb51-74"><a href="#cb51-74" tabindex="-1"></a></span>
<span id="cb51-75"><a href="#cb51-75" tabindex="-1"></a><span class="fu">wnl</span>(mt2, <span class="fu">xtabs</span>(<span class="sc">~</span>gear))</span>
<span id="cb51-76"><a href="#cb51-76" tabindex="-1"></a><span class="do">### &gt; Number of forward gears</span></span>
<span id="cb51-77"><a href="#cb51-77" tabindex="-1"></a><span class="do">### &gt;  3  4  5 </span></span>
<span id="cb51-78"><a href="#cb51-78" tabindex="-1"></a><span class="do">### &gt; 15 11  5</span></span>
<span id="cb51-79"><a href="#cb51-79" tabindex="-1"></a></span>
<span id="cb51-80"><a href="#cb51-80" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span> mt2<span class="sc">$</span>gear) <span class="co"># compare to directly above</span></span>
<span id="cb51-81"><a href="#cb51-81" tabindex="-1"></a><span class="do">### &gt; mt2$gear</span></span>
<span id="cb51-82"><a href="#cb51-82" tabindex="-1"></a><span class="do">### &gt;  3  4  5 </span></span>
<span id="cb51-83"><a href="#cb51-83" tabindex="-1"></a><span class="do">### &gt; 15 11  5</span></span></code></pre></div>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">wnl</span>(mt2, <span class="fu">hist</span>(mpg))) <span class="co"># name label, not colname as title</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a></span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">wnl</span>(mt2, <span class="fu">plot</span>(mpg, carb))) <span class="co"># name labels, not colnames, on axes</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="add-and-use-variable-value-labels" class="section level3">
<h3>Add and use variable VALUE labels</h3>
<p>Let’s add VALUE labels.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_val_labs</span>(</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>  <span class="at">data =</span> mt2,</span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;am&quot;</span>,</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a>  <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">&quot;automatic&quot;</span>, <span class="st">&quot;manual&quot;</span>)</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a>)</span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a><span class="do">### &gt; Labeling variable --am--:</span></span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a><span class="do">### &gt;   var vals      labs</span></span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a><span class="do">### &gt; 1  am    0 automatic</span></span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a><span class="do">### &gt; 2  am    1    manual</span></span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a><span class="do">### &gt; 3  am   NA        NA</span></span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a></span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_val_labs</span>(</span>
<span id="cb54-14"><a href="#cb54-14" tabindex="-1"></a>  <span class="at">data =</span> mt2,</span>
<span id="cb54-15"><a href="#cb54-15" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;carb&quot;</span>,</span>
<span id="cb54-16"><a href="#cb54-16" tabindex="-1"></a>  <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>),</span>
<span id="cb54-17"><a href="#cb54-17" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(</span>
<span id="cb54-18"><a href="#cb54-18" tabindex="-1"></a>    <span class="st">&quot;1-carb&quot;</span>, <span class="st">&quot;2-carbs&quot;</span>,</span>
<span id="cb54-19"><a href="#cb54-19" tabindex="-1"></a>    <span class="st">&quot;3-carbs&quot;</span>, <span class="st">&quot;4-carbs&quot;</span>,</span>
<span id="cb54-20"><a href="#cb54-20" tabindex="-1"></a>    <span class="st">&quot;6-carbs&quot;</span>, <span class="st">&quot;8-carbs&quot;</span></span>
<span id="cb54-21"><a href="#cb54-21" tabindex="-1"></a>  )</span>
<span id="cb54-22"><a href="#cb54-22" tabindex="-1"></a>)</span>
<span id="cb54-23"><a href="#cb54-23" tabindex="-1"></a><span class="do">### &gt; Labeling variable --carb--:</span></span>
<span id="cb54-24"><a href="#cb54-24" tabindex="-1"></a><span class="do">### &gt;     var vals    labs</span></span>
<span id="cb54-25"><a href="#cb54-25" tabindex="-1"></a><span class="do">### &gt; 4  carb    1  1-carb</span></span>
<span id="cb54-26"><a href="#cb54-26" tabindex="-1"></a><span class="do">### &gt; 5  carb    2 2-carbs</span></span>
<span id="cb54-27"><a href="#cb54-27" tabindex="-1"></a><span class="do">### &gt; 6  carb    3 3-carbs</span></span>
<span id="cb54-28"><a href="#cb54-28" tabindex="-1"></a><span class="do">### &gt; 7  carb    4 4-carbs</span></span>
<span id="cb54-29"><a href="#cb54-29" tabindex="-1"></a><span class="do">### &gt; 8  carb    6 6-carbs</span></span>
<span id="cb54-30"><a href="#cb54-30" tabindex="-1"></a><span class="do">### &gt; 9  carb    8 8-carbs</span></span>
<span id="cb54-31"><a href="#cb54-31" tabindex="-1"></a><span class="do">### &gt; 10 carb   NA      NA</span></span></code></pre></div>
<p>The variable argument can be unquoted if we use
<code>add_val1</code>. Note that the second argument to
<code>add_val_labs</code> is vars, while second argument to
<code>add_val1</code> is var.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_val1</span>(</span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a>  <span class="at">data =</span> mt2,</span>
<span id="cb55-3"><a href="#cb55-3" tabindex="-1"></a>  <span class="at">var =</span> cyl, <span class="do">### note, &quot;var,&quot; not &quot;vars&quot; arg</span></span>
<span id="cb55-4"><a href="#cb55-4" tabindex="-1"></a>  <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>),</span>
<span id="cb55-5"><a href="#cb55-5" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(</span>
<span id="cb55-6"><a href="#cb55-6" tabindex="-1"></a>    <span class="st">&quot;four-cyl&quot;</span>,</span>
<span id="cb55-7"><a href="#cb55-7" tabindex="-1"></a>    <span class="st">&quot;six-cyl&quot;</span>,</span>
<span id="cb55-8"><a href="#cb55-8" tabindex="-1"></a>    <span class="st">&quot;eight-cyl&quot;</span></span>
<span id="cb55-9"><a href="#cb55-9" tabindex="-1"></a>  )</span>
<span id="cb55-10"><a href="#cb55-10" tabindex="-1"></a>)</span>
<span id="cb55-11"><a href="#cb55-11" tabindex="-1"></a><span class="do">### &gt; Labeling variable --cyl--:</span></span>
<span id="cb55-12"><a href="#cb55-12" tabindex="-1"></a><span class="do">### &gt;    var vals      labs</span></span>
<span id="cb55-13"><a href="#cb55-13" tabindex="-1"></a><span class="do">### &gt; 11 cyl    4  four-cyl</span></span>
<span id="cb55-14"><a href="#cb55-14" tabindex="-1"></a><span class="do">### &gt; 12 cyl    6   six-cyl</span></span>
<span id="cb55-15"><a href="#cb55-15" tabindex="-1"></a><span class="do">### &gt; 13 cyl    8 eight-cyl</span></span>
<span id="cb55-16"><a href="#cb55-16" tabindex="-1"></a><span class="do">### &gt; 14 cyl   NA        NA</span></span></code></pre></div>
<p>There’s no law against adding not-yet-needed value labels</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_val_labs</span>(</span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a>  <span class="at">data =</span> mt2,</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;am&quot;</span>,</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a>  <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">99</span>),</span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">&quot;friend&quot;</span>)</span>
<span id="cb56-6"><a href="#cb56-6" tabindex="-1"></a>)</span>
<span id="cb56-7"><a href="#cb56-7" tabindex="-1"></a><span class="do">### &gt; Warning in add_val_labs(data = mt2, vars = &quot;am&quot;, vals = c(99), labs = c(&quot;friend&quot;)): </span></span>
<span id="cb56-8"><a href="#cb56-8" tabindex="-1"></a><span class="do">### &gt;   Var --am-- does not currently possess all of the vals you have specified.</span></span>
<span id="cb56-9"><a href="#cb56-9" tabindex="-1"></a><span class="do">### &gt; Labeling variable --am--:</span></span>
<span id="cb56-10"><a href="#cb56-10" tabindex="-1"></a><span class="do">### &gt;   var vals      labs</span></span>
<span id="cb56-11"><a href="#cb56-11" tabindex="-1"></a><span class="do">### &gt; 5  am    0 automatic</span></span>
<span id="cb56-12"><a href="#cb56-12" tabindex="-1"></a><span class="do">### &gt; 6  am    1    manual</span></span>
<span id="cb56-13"><a href="#cb56-13" tabindex="-1"></a><span class="do">### &gt; 7  am   99    friend</span></span>
<span id="cb56-14"><a href="#cb56-14" tabindex="-1"></a><span class="do">### &gt; 8  am   NA        NA</span></span>
<span id="cb56-15"><a href="#cb56-15" tabindex="-1"></a></span>
<span id="cb56-16"><a href="#cb56-16" tabindex="-1"></a><span class="fu">get_name_labs</span>(mt2)</span>
<span id="cb56-17"><a href="#cb56-17" tabindex="-1"></a><span class="do">### &gt;     var                                      lab</span></span>
<span id="cb56-18"><a href="#cb56-18" tabindex="-1"></a><span class="do">### &gt; 1   mpg                        Miles/(US) gallon</span></span>
<span id="cb56-19"><a href="#cb56-19" tabindex="-1"></a><span class="do">### &gt; 2   cyl                      Number of cylinders</span></span>
<span id="cb56-20"><a href="#cb56-20" tabindex="-1"></a><span class="do">### &gt; 3  disp                    Displacement (cu.in.)</span></span>
<span id="cb56-21"><a href="#cb56-21" tabindex="-1"></a><span class="do">### &gt; 4    hp                         Gross horsepower</span></span>
<span id="cb56-22"><a href="#cb56-22" tabindex="-1"></a><span class="do">### &gt; 5  drat                          Rear axle ratio</span></span>
<span id="cb56-23"><a href="#cb56-23" tabindex="-1"></a><span class="do">### &gt; 6    wt                        Weight (1000 lbs)</span></span>
<span id="cb56-24"><a href="#cb56-24" tabindex="-1"></a><span class="do">### &gt; 7  qsec                            1/4 mile time</span></span>
<span id="cb56-25"><a href="#cb56-25" tabindex="-1"></a><span class="do">### &gt; 8    vs      Engine (0 = V-shaped, 1 = straight)</span></span>
<span id="cb56-26"><a href="#cb56-26" tabindex="-1"></a><span class="do">### &gt; 9    am Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb56-27"><a href="#cb56-27" tabindex="-1"></a><span class="do">### &gt; 10 gear                  Number of forward gears</span></span>
<span id="cb56-28"><a href="#cb56-28" tabindex="-1"></a><span class="do">### &gt; 11 carb                    Number of carburetors</span></span>
<span id="cb56-29"><a href="#cb56-29" tabindex="-1"></a></span>
<span id="cb56-30"><a href="#cb56-30" tabindex="-1"></a><span class="fu">get_val_labs</span>(mt2)</span>
<span id="cb56-31"><a href="#cb56-31" tabindex="-1"></a><span class="do">### &gt;     var vals      labs</span></span>
<span id="cb56-32"><a href="#cb56-32" tabindex="-1"></a><span class="do">### &gt; 1   cyl    4  four-cyl</span></span>
<span id="cb56-33"><a href="#cb56-33" tabindex="-1"></a><span class="do">### &gt; 2   cyl    6   six-cyl</span></span>
<span id="cb56-34"><a href="#cb56-34" tabindex="-1"></a><span class="do">### &gt; 3   cyl    8 eight-cyl</span></span>
<span id="cb56-35"><a href="#cb56-35" tabindex="-1"></a><span class="do">### &gt; 4   cyl   NA        NA</span></span>
<span id="cb56-36"><a href="#cb56-36" tabindex="-1"></a><span class="do">### &gt; 5    am    0 automatic</span></span>
<span id="cb56-37"><a href="#cb56-37" tabindex="-1"></a><span class="do">### &gt; 6    am    1    manual</span></span>
<span id="cb56-38"><a href="#cb56-38" tabindex="-1"></a><span class="do">### &gt; 7    am   99    friend</span></span>
<span id="cb56-39"><a href="#cb56-39" tabindex="-1"></a><span class="do">### &gt; 8    am   NA        NA</span></span>
<span id="cb56-40"><a href="#cb56-40" tabindex="-1"></a><span class="do">### &gt; 9  carb    1    1-carb</span></span>
<span id="cb56-41"><a href="#cb56-41" tabindex="-1"></a><span class="do">### &gt; 10 carb    2   2-carbs</span></span>
<span id="cb56-42"><a href="#cb56-42" tabindex="-1"></a><span class="do">### &gt; 11 carb    3   3-carbs</span></span>
<span id="cb56-43"><a href="#cb56-43" tabindex="-1"></a><span class="do">### &gt; 12 carb    4   4-carbs</span></span>
<span id="cb56-44"><a href="#cb56-44" tabindex="-1"></a><span class="do">### &gt; 13 carb    6   6-carbs</span></span>
<span id="cb56-45"><a href="#cb56-45" tabindex="-1"></a><span class="do">### &gt; 14 carb    8   8-carbs</span></span>
<span id="cb56-46"><a href="#cb56-46" tabindex="-1"></a><span class="do">### &gt; 15 carb   NA        NA</span></span></code></pre></div>
</div>
<div id="add-and-numerical-range-value-labels" class="section level3">
<h3>Add and NUMERICAL RANGE value labels</h3>
<p>Now, let’s add numerical value range labels, using
<code>add_quant_labs()</code>.</p>
<p>We’ll label the five quintiles of variable “mpg”. For each distinct
quintile label, the highest value of “mpg” that falls within that value
range will be recorded and will be returned by
<code>get_val_labs()</code> and used by <code>use_val_labs()</code>.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="co"># for &quot;disp&quot;, add numerical range labels based on quantiles (here, quintiles)</span></span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_quant_labs</span>(<span class="at">data =</span> mt2, <span class="at">vars =</span> <span class="st">&quot;disp&quot;</span>, <span class="at">qtiles =</span> <span class="dv">5</span>)</span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a><span class="do">### &gt; Labeling variable --disp--:</span></span>
<span id="cb57-4"><a href="#cb57-4" tabindex="-1"></a><span class="do">### &gt;     var  vals labs</span></span>
<span id="cb57-5"><a href="#cb57-5" tabindex="-1"></a><span class="do">### &gt; 16 disp 120.1 q020</span></span>
<span id="cb57-6"><a href="#cb57-6" tabindex="-1"></a><span class="do">### &gt; 17 disp   160 q040</span></span>
<span id="cb57-7"><a href="#cb57-7" tabindex="-1"></a><span class="do">### &gt; 18 disp 275.8 q060</span></span>
<span id="cb57-8"><a href="#cb57-8" tabindex="-1"></a><span class="do">### &gt; 19 disp   351 q080</span></span>
<span id="cb57-9"><a href="#cb57-9" tabindex="-1"></a><span class="do">### &gt; 20 disp   472 q100</span></span>
<span id="cb57-10"><a href="#cb57-10" tabindex="-1"></a><span class="do">### &gt; 21 disp    NA   NA</span></span>
<span id="cb57-11"><a href="#cb57-11" tabindex="-1"></a></span>
<span id="cb57-12"><a href="#cb57-12" tabindex="-1"></a><span class="co"># for &quot;mpg&quot;, add numerical range labels based on &quot;pretty&quot; cuts</span></span>
<span id="cb57-13"><a href="#cb57-13" tabindex="-1"></a><span class="co"># bound bins using range of &quot;mpg&quot; vals</span></span>
<span id="cb57-14"><a href="#cb57-14" tabindex="-1"></a>mpg_bins <span class="ot">&lt;-</span> <span class="fu">pretty</span>(<span class="fu">range</span>(mt2<span class="sc">$</span>mpg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb57-15"><a href="#cb57-15" tabindex="-1"></a>mpg_bins</span>
<span id="cb57-16"><a href="#cb57-16" tabindex="-1"></a><span class="do">### &gt; [1] 10 15 20 25 30 35</span></span>
<span id="cb57-17"><a href="#cb57-17" tabindex="-1"></a></span>
<span id="cb57-18"><a href="#cb57-18" tabindex="-1"></a></span>
<span id="cb57-19"><a href="#cb57-19" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_quant_labs</span>(</span>
<span id="cb57-20"><a href="#cb57-20" tabindex="-1"></a>  <span class="at">data =</span> mt2,</span>
<span id="cb57-21"><a href="#cb57-21" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;mpg&quot;</span>,</span>
<span id="cb57-22"><a href="#cb57-22" tabindex="-1"></a>  <span class="at">vals =</span> mpg_bins</span>
<span id="cb57-23"><a href="#cb57-23" tabindex="-1"></a>) <span class="co"># assign labels using our &quot;pretty&quot; thresholds</span></span>
<span id="cb57-24"><a href="#cb57-24" tabindex="-1"></a><span class="do">### &gt; Warning in add_quant_labs(data = mt2, vars = &quot;mpg&quot;, vals = mpg_bins): </span></span>
<span id="cb57-25"><a href="#cb57-25" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb57-26"><a href="#cb57-26" tabindex="-1"></a><span class="do">### &gt; Some of the supplied vals argument values are outside</span></span>
<span id="cb57-27"><a href="#cb57-27" tabindex="-1"></a><span class="do">### &gt; the observed range of var --mpg-- values</span></span>
<span id="cb57-28"><a href="#cb57-28" tabindex="-1"></a><span class="do">### &gt; Labeling variable --mpg--:</span></span>
<span id="cb57-29"><a href="#cb57-29" tabindex="-1"></a><span class="do">### &gt;    var vals labs</span></span>
<span id="cb57-30"><a href="#cb57-30" tabindex="-1"></a><span class="do">### &gt; 22 mpg   10 &lt;=10</span></span>
<span id="cb57-31"><a href="#cb57-31" tabindex="-1"></a><span class="do">### &gt; 23 mpg   15 &lt;=15</span></span>
<span id="cb57-32"><a href="#cb57-32" tabindex="-1"></a><span class="do">### &gt; 24 mpg   20 &lt;=20</span></span>
<span id="cb57-33"><a href="#cb57-33" tabindex="-1"></a><span class="do">### &gt; 25 mpg   25 &lt;=25</span></span>
<span id="cb57-34"><a href="#cb57-34" tabindex="-1"></a><span class="do">### &gt; 26 mpg   30 &lt;=30</span></span>
<span id="cb57-35"><a href="#cb57-35" tabindex="-1"></a><span class="do">### &gt; 27 mpg   35 &lt;=35</span></span>
<span id="cb57-36"><a href="#cb57-36" tabindex="-1"></a><span class="do">### &gt; 28 mpg   NA   NA</span></span>
<span id="cb57-37"><a href="#cb57-37" tabindex="-1"></a></span>
<span id="cb57-38"><a href="#cb57-38" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">use_val_labs</span>(mt2), <span class="dv">4</span>)</span>
<span id="cb57-39"><a href="#cb57-39" tabindex="-1"></a><span class="do">### &gt;                 mpg      cyl disp  hp drat    wt  qsec vs        am gear</span></span>
<span id="cb57-40"><a href="#cb57-40" tabindex="-1"></a><span class="do">### &gt; Missing Car    &lt;NA&gt;     &lt;NA&gt; &lt;NA&gt;  NA   NA    NA    NA NA      &lt;NA&gt;   NA</span></span>
<span id="cb57-41"><a href="#cb57-41" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag  &lt;=25  six-cyl q040 110 3.90 2.875 17.02  0    manual    4</span></span>
<span id="cb57-42"><a href="#cb57-42" tabindex="-1"></a><span class="do">### &gt; Datsun 710     &lt;=25 four-cyl q020  93 3.85 2.320 18.61  1    manual    4</span></span>
<span id="cb57-43"><a href="#cb57-43" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive &lt;=25  six-cyl q060 110 3.08 3.215 19.44  1 automatic    3</span></span>
<span id="cb57-44"><a href="#cb57-44" tabindex="-1"></a><span class="do">### &gt;                   carb</span></span>
<span id="cb57-45"><a href="#cb57-45" tabindex="-1"></a><span class="do">### &gt; Missing Car       &lt;NA&gt;</span></span>
<span id="cb57-46"><a href="#cb57-46" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag  4-carbs</span></span>
<span id="cb57-47"><a href="#cb57-47" tabindex="-1"></a><span class="do">### &gt; Datsun 710      1-carb</span></span>
<span id="cb57-48"><a href="#cb57-48" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive  1-carb</span></span></code></pre></div>
</div>
<div id="add-many-to-one-value-labels" class="section level3">
<h3>Add MANY-TO-ONE VALUE Labels</h3>
<p>Let’s demonstrate “m1” (“many to one”) value labels with the “gear”
variable.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_m1_lab</span>(</span>
<span id="cb58-2"><a href="#cb58-2" tabindex="-1"></a>  <span class="at">data =</span> mt2,</span>
<span id="cb58-3"><a href="#cb58-3" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;gear&quot;</span>,</span>
<span id="cb58-4"><a href="#cb58-4" tabindex="-1"></a>  <span class="at">vals =</span> <span class="dv">3</span>,</span>
<span id="cb58-5"><a href="#cb58-5" tabindex="-1"></a>  <span class="at">lab =</span> <span class="st">&quot;3&quot;</span></span>
<span id="cb58-6"><a href="#cb58-6" tabindex="-1"></a>)</span>
<span id="cb58-7"><a href="#cb58-7" tabindex="-1"></a><span class="do">### &gt; Labeling variable --gear--:</span></span>
<span id="cb58-8"><a href="#cb58-8" tabindex="-1"></a><span class="do">### &gt;     var vals labs</span></span>
<span id="cb58-9"><a href="#cb58-9" tabindex="-1"></a><span class="do">### &gt; 29 gear    3    3</span></span>
<span id="cb58-10"><a href="#cb58-10" tabindex="-1"></a><span class="do">### &gt; 30 gear    4    4</span></span>
<span id="cb58-11"><a href="#cb58-11" tabindex="-1"></a><span class="do">### &gt; 31 gear    5    5</span></span>
<span id="cb58-12"><a href="#cb58-12" tabindex="-1"></a><span class="do">### &gt; 32 gear   NA   NA</span></span>
<span id="cb58-13"><a href="#cb58-13" tabindex="-1"></a></span>
<span id="cb58-14"><a href="#cb58-14" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_m1_lab</span>(</span>
<span id="cb58-15"><a href="#cb58-15" tabindex="-1"></a>  <span class="at">data =</span> mt2,</span>
<span id="cb58-16"><a href="#cb58-16" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;gear&quot;</span>,</span>
<span id="cb58-17"><a href="#cb58-17" tabindex="-1"></a>  <span class="at">vals =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb58-18"><a href="#cb58-18" tabindex="-1"></a>  <span class="at">lab =</span> <span class="st">&quot;4+&quot;</span></span>
<span id="cb58-19"><a href="#cb58-19" tabindex="-1"></a>)</span>
<span id="cb58-20"><a href="#cb58-20" tabindex="-1"></a><span class="do">### &gt; Labeling variable --gear--:</span></span>
<span id="cb58-21"><a href="#cb58-21" tabindex="-1"></a><span class="do">### &gt;     var vals labs</span></span>
<span id="cb58-22"><a href="#cb58-22" tabindex="-1"></a><span class="do">### &gt; 22 gear    3    3</span></span>
<span id="cb58-23"><a href="#cb58-23" tabindex="-1"></a><span class="do">### &gt; 23 gear    4   4+</span></span>
<span id="cb58-24"><a href="#cb58-24" tabindex="-1"></a><span class="do">### &gt; 24 gear    5   4+</span></span>
<span id="cb58-25"><a href="#cb58-25" tabindex="-1"></a><span class="do">### &gt; 25 gear   NA   NA</span></span></code></pre></div>
</div>
<div id="preserve-and-restore-labels" class="section level3">
<h3>Preserve and Restore Labels</h3>
<p>Preserve label attributes.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a>zlab.mt2 <span class="ot">&lt;-</span> <span class="fu">get_all_lab_atts</span>(mt2)</span></code></pre></div>
<p>Now, remove them.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">strip_labs</span>(mt2)</span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a><span class="fu">get_all_lab_atts</span>(mt2)</span>
<span id="cb60-3"><a href="#cb60-3" tabindex="-1"></a><span class="do">### &gt; named list()</span></span></code></pre></div>
<p>Now, restore them.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_lab_atts</span>(mt2, zlab.mt2)</span>
<span id="cb61-2"><a href="#cb61-2" tabindex="-1"></a><span class="fu">get_all_lab_atts</span>(mt2)</span>
<span id="cb61-3"><a href="#cb61-3" tabindex="-1"></a><span class="do">### &gt; $frame.lab</span></span>
<span id="cb61-4"><a href="#cb61-4" tabindex="-1"></a><span class="do">### &gt; [1] &quot;Data extracted from the 1974 MotorTrend US magazine, comprising fuel consumption and 10 aspects of automobiledesign and performance for 32 automobiles (1973–74 models). Source: Hendersonand Velleman (1981), Building multiple regression models interactively. Biometrics, 37, 391–411.&quot;</span></span>
<span id="cb61-5"><a href="#cb61-5" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb61-6"><a href="#cb61-6" tabindex="-1"></a><span class="do">### &gt; $name.labs</span></span>
<span id="cb61-7"><a href="#cb61-7" tabindex="-1"></a><span class="do">### &gt;                                        mpg </span></span>
<span id="cb61-8"><a href="#cb61-8" tabindex="-1"></a><span class="do">### &gt;                        &quot;Miles/(US) gallon&quot; </span></span>
<span id="cb61-9"><a href="#cb61-9" tabindex="-1"></a><span class="do">### &gt;                                        cyl </span></span>
<span id="cb61-10"><a href="#cb61-10" tabindex="-1"></a><span class="do">### &gt;                      &quot;Number of cylinders&quot; </span></span>
<span id="cb61-11"><a href="#cb61-11" tabindex="-1"></a><span class="do">### &gt;                                       disp </span></span>
<span id="cb61-12"><a href="#cb61-12" tabindex="-1"></a><span class="do">### &gt;                    &quot;Displacement (cu.in.)&quot; </span></span>
<span id="cb61-13"><a href="#cb61-13" tabindex="-1"></a><span class="do">### &gt;                                         hp </span></span>
<span id="cb61-14"><a href="#cb61-14" tabindex="-1"></a><span class="do">### &gt;                         &quot;Gross horsepower&quot; </span></span>
<span id="cb61-15"><a href="#cb61-15" tabindex="-1"></a><span class="do">### &gt;                                       drat </span></span>
<span id="cb61-16"><a href="#cb61-16" tabindex="-1"></a><span class="do">### &gt;                          &quot;Rear axle ratio&quot; </span></span>
<span id="cb61-17"><a href="#cb61-17" tabindex="-1"></a><span class="do">### &gt;                                         wt </span></span>
<span id="cb61-18"><a href="#cb61-18" tabindex="-1"></a><span class="do">### &gt;                        &quot;Weight (1000 lbs)&quot; </span></span>
<span id="cb61-19"><a href="#cb61-19" tabindex="-1"></a><span class="do">### &gt;                                       qsec </span></span>
<span id="cb61-20"><a href="#cb61-20" tabindex="-1"></a><span class="do">### &gt;                            &quot;1/4 mile time&quot; </span></span>
<span id="cb61-21"><a href="#cb61-21" tabindex="-1"></a><span class="do">### &gt;                                         vs </span></span>
<span id="cb61-22"><a href="#cb61-22" tabindex="-1"></a><span class="do">### &gt;      &quot;Engine (0 = V-shaped, 1 = straight)&quot; </span></span>
<span id="cb61-23"><a href="#cb61-23" tabindex="-1"></a><span class="do">### &gt;                                         am </span></span>
<span id="cb61-24"><a href="#cb61-24" tabindex="-1"></a><span class="do">### &gt; &quot;Transmission (0 = automatic, 1 = manual)&quot; </span></span>
<span id="cb61-25"><a href="#cb61-25" tabindex="-1"></a><span class="do">### &gt;                                       gear </span></span>
<span id="cb61-26"><a href="#cb61-26" tabindex="-1"></a><span class="do">### &gt;                  &quot;Number of forward gears&quot; </span></span>
<span id="cb61-27"><a href="#cb61-27" tabindex="-1"></a><span class="do">### &gt;                                       carb </span></span>
<span id="cb61-28"><a href="#cb61-28" tabindex="-1"></a><span class="do">### &gt;                    &quot;Number of carburetors&quot; </span></span>
<span id="cb61-29"><a href="#cb61-29" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb61-30"><a href="#cb61-30" tabindex="-1"></a><span class="do">### &gt; $val.labs.mpg</span></span>
<span id="cb61-31"><a href="#cb61-31" tabindex="-1"></a><span class="do">### &gt;     10     15     20     25     30     35     NA </span></span>
<span id="cb61-32"><a href="#cb61-32" tabindex="-1"></a><span class="do">### &gt; &quot;&lt;=10&quot; &quot;&lt;=15&quot; &quot;&lt;=20&quot; &quot;&lt;=25&quot; &quot;&lt;=30&quot; &quot;&lt;=35&quot;   &quot;NA&quot; </span></span>
<span id="cb61-33"><a href="#cb61-33" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb61-34"><a href="#cb61-34" tabindex="-1"></a><span class="do">### &gt; $val.labs.cyl</span></span>
<span id="cb61-35"><a href="#cb61-35" tabindex="-1"></a><span class="do">### &gt;           4           6           8          NA </span></span>
<span id="cb61-36"><a href="#cb61-36" tabindex="-1"></a><span class="do">### &gt;  &quot;four-cyl&quot;   &quot;six-cyl&quot; &quot;eight-cyl&quot;        &quot;NA&quot; </span></span>
<span id="cb61-37"><a href="#cb61-37" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb61-38"><a href="#cb61-38" tabindex="-1"></a><span class="do">### &gt; $val.labs.disp</span></span>
<span id="cb61-39"><a href="#cb61-39" tabindex="-1"></a><span class="do">### &gt;  120.1    160  275.8    351    472     NA </span></span>
<span id="cb61-40"><a href="#cb61-40" tabindex="-1"></a><span class="do">### &gt; &quot;q020&quot; &quot;q040&quot; &quot;q060&quot; &quot;q080&quot; &quot;q100&quot;   &quot;NA&quot; </span></span>
<span id="cb61-41"><a href="#cb61-41" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb61-42"><a href="#cb61-42" tabindex="-1"></a><span class="do">### &gt; $val.labs.am</span></span>
<span id="cb61-43"><a href="#cb61-43" tabindex="-1"></a><span class="do">### &gt;           0           1          99          NA </span></span>
<span id="cb61-44"><a href="#cb61-44" tabindex="-1"></a><span class="do">### &gt; &quot;automatic&quot;    &quot;manual&quot;    &quot;friend&quot;        &quot;NA&quot; </span></span>
<span id="cb61-45"><a href="#cb61-45" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb61-46"><a href="#cb61-46" tabindex="-1"></a><span class="do">### &gt; $val.labs.gear</span></span>
<span id="cb61-47"><a href="#cb61-47" tabindex="-1"></a><span class="do">### &gt;    3    4    5   NA </span></span>
<span id="cb61-48"><a href="#cb61-48" tabindex="-1"></a><span class="do">### &gt;  &quot;3&quot; &quot;4+&quot; &quot;4+&quot; &quot;NA&quot; </span></span>
<span id="cb61-49"><a href="#cb61-49" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb61-50"><a href="#cb61-50" tabindex="-1"></a><span class="do">### &gt; $val.labs.carb</span></span>
<span id="cb61-51"><a href="#cb61-51" tabindex="-1"></a><span class="do">### &gt;         1         2         3         4         6         8        NA </span></span>
<span id="cb61-52"><a href="#cb61-52" tabindex="-1"></a><span class="do">### &gt;  &quot;1-carb&quot; &quot;2-carbs&quot; &quot;3-carbs&quot; &quot;4-carbs&quot; &quot;6-carbs&quot; &quot;8-carbs&quot;      &quot;NA&quot;</span></span></code></pre></div>
</div>
<div id="add-value-labels-with-a-pipe-based-workflow" class="section level3">
<h3>Add value labels with a |&gt; pipe-based workflow</h3>
<p>Let’s try a pipe-based, value-labeling flow with
<code>add_val1()</code></p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a>mt_pipe <span class="ot">&lt;-</span> mtcars <span class="sc">|&gt;</span></span>
<span id="cb62-2"><a href="#cb62-2" tabindex="-1"></a>  <span class="fu">add_val1</span>(am,</span>
<span id="cb62-3"><a href="#cb62-3" tabindex="-1"></a>    <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb62-4"><a href="#cb62-4" tabindex="-1"></a>    <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">&quot;automatic&quot;</span>, <span class="st">&quot;manual&quot;</span>)</span>
<span id="cb62-5"><a href="#cb62-5" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb62-6"><a href="#cb62-6" tabindex="-1"></a>  <span class="fu">add_val1</span>(cyl,</span>
<span id="cb62-7"><a href="#cb62-7" tabindex="-1"></a>    <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>),</span>
<span id="cb62-8"><a href="#cb62-8" tabindex="-1"></a>    <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">&quot;four-cyl&quot;</span>, <span class="st">&quot;six-cyl&quot;</span>, <span class="st">&quot;eight-cyl&quot;</span>)</span>
<span id="cb62-9"><a href="#cb62-9" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb62-10"><a href="#cb62-10" tabindex="-1"></a>  <span class="fu">add1m1</span>(gear,</span>
<span id="cb62-11"><a href="#cb62-11" tabindex="-1"></a>    <span class="at">vals =</span> <span class="dv">3</span>,</span>
<span id="cb62-12"><a href="#cb62-12" tabindex="-1"></a>    <span class="at">lab =</span> <span class="st">&quot;3&quot;</span></span>
<span id="cb62-13"><a href="#cb62-13" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb62-14"><a href="#cb62-14" tabindex="-1"></a>  <span class="fu">add1m1</span>(gear,</span>
<span id="cb62-15"><a href="#cb62-15" tabindex="-1"></a>    <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb62-16"><a href="#cb62-16" tabindex="-1"></a>    <span class="at">lab =</span> <span class="fu">c</span>(<span class="st">&quot;4+&quot;</span>)</span>
<span id="cb62-17"><a href="#cb62-17" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb62-18"><a href="#cb62-18" tabindex="-1"></a>  <span class="fu">add_val1</span>(carb,</span>
<span id="cb62-19"><a href="#cb62-19" tabindex="-1"></a>    <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>),</span>
<span id="cb62-20"><a href="#cb62-20" tabindex="-1"></a>    <span class="at">labs =</span> <span class="fu">c</span>(</span>
<span id="cb62-21"><a href="#cb62-21" tabindex="-1"></a>      <span class="st">&quot;1-carb&quot;</span>, <span class="st">&quot;2-carbs&quot;</span>, <span class="st">&quot;3-carbs&quot;</span>,</span>
<span id="cb62-22"><a href="#cb62-22" tabindex="-1"></a>      <span class="st">&quot;4-carbs&quot;</span>, <span class="st">&quot;6-carbs&quot;</span>, <span class="st">&quot;8-carbs&quot;</span></span>
<span id="cb62-23"><a href="#cb62-23" tabindex="-1"></a>    )</span>
<span id="cb62-24"><a href="#cb62-24" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb62-25"><a href="#cb62-25" tabindex="-1"></a>  <span class="fu">add_quant1</span>(mpg,</span>
<span id="cb62-26"><a href="#cb62-26" tabindex="-1"></a>    <span class="at">qtiles =</span> <span class="dv">4</span></span>
<span id="cb62-27"><a href="#cb62-27" tabindex="-1"></a>  )</span>
<span id="cb62-28"><a href="#cb62-28" tabindex="-1"></a><span class="do">### &gt; Labeling variable --am--:</span></span>
<span id="cb62-29"><a href="#cb62-29" tabindex="-1"></a><span class="do">### &gt;   var vals      labs</span></span>
<span id="cb62-30"><a href="#cb62-30" tabindex="-1"></a><span class="do">### &gt; 1  am    0 automatic</span></span>
<span id="cb62-31"><a href="#cb62-31" tabindex="-1"></a><span class="do">### &gt; 2  am    1    manual</span></span>
<span id="cb62-32"><a href="#cb62-32" tabindex="-1"></a><span class="do">### &gt; 3  am   NA        NA</span></span>
<span id="cb62-33"><a href="#cb62-33" tabindex="-1"></a><span class="do">### &gt; Labeling variable --cyl--:</span></span>
<span id="cb62-34"><a href="#cb62-34" tabindex="-1"></a><span class="do">### &gt;   var vals      labs</span></span>
<span id="cb62-35"><a href="#cb62-35" tabindex="-1"></a><span class="do">### &gt; 4 cyl    4  four-cyl</span></span>
<span id="cb62-36"><a href="#cb62-36" tabindex="-1"></a><span class="do">### &gt; 5 cyl    6   six-cyl</span></span>
<span id="cb62-37"><a href="#cb62-37" tabindex="-1"></a><span class="do">### &gt; 6 cyl    8 eight-cyl</span></span>
<span id="cb62-38"><a href="#cb62-38" tabindex="-1"></a><span class="do">### &gt; 7 cyl   NA        NA</span></span>
<span id="cb62-39"><a href="#cb62-39" tabindex="-1"></a><span class="do">### &gt; Labeling variable --gear--:</span></span>
<span id="cb62-40"><a href="#cb62-40" tabindex="-1"></a><span class="do">### &gt;     var vals labs</span></span>
<span id="cb62-41"><a href="#cb62-41" tabindex="-1"></a><span class="do">### &gt; 8  gear    3    3</span></span>
<span id="cb62-42"><a href="#cb62-42" tabindex="-1"></a><span class="do">### &gt; 9  gear    4    4</span></span>
<span id="cb62-43"><a href="#cb62-43" tabindex="-1"></a><span class="do">### &gt; 10 gear    5    5</span></span>
<span id="cb62-44"><a href="#cb62-44" tabindex="-1"></a><span class="do">### &gt; 11 gear   NA   NA</span></span>
<span id="cb62-45"><a href="#cb62-45" tabindex="-1"></a><span class="do">### &gt; Labeling variable --gear--:</span></span>
<span id="cb62-46"><a href="#cb62-46" tabindex="-1"></a><span class="do">### &gt;     var vals labs</span></span>
<span id="cb62-47"><a href="#cb62-47" tabindex="-1"></a><span class="do">### &gt; 8  gear    3    3</span></span>
<span id="cb62-48"><a href="#cb62-48" tabindex="-1"></a><span class="do">### &gt; 9  gear    4   4+</span></span>
<span id="cb62-49"><a href="#cb62-49" tabindex="-1"></a><span class="do">### &gt; 10 gear    5   4+</span></span>
<span id="cb62-50"><a href="#cb62-50" tabindex="-1"></a><span class="do">### &gt; 11 gear   NA   NA</span></span>
<span id="cb62-51"><a href="#cb62-51" tabindex="-1"></a><span class="do">### &gt; Labeling variable --carb--:</span></span>
<span id="cb62-52"><a href="#cb62-52" tabindex="-1"></a><span class="do">### &gt;     var vals    labs</span></span>
<span id="cb62-53"><a href="#cb62-53" tabindex="-1"></a><span class="do">### &gt; 12 carb    1  1-carb</span></span>
<span id="cb62-54"><a href="#cb62-54" tabindex="-1"></a><span class="do">### &gt; 13 carb    2 2-carbs</span></span>
<span id="cb62-55"><a href="#cb62-55" tabindex="-1"></a><span class="do">### &gt; 14 carb    3 3-carbs</span></span>
<span id="cb62-56"><a href="#cb62-56" tabindex="-1"></a><span class="do">### &gt; 15 carb    4 4-carbs</span></span>
<span id="cb62-57"><a href="#cb62-57" tabindex="-1"></a><span class="do">### &gt; 16 carb    6 6-carbs</span></span>
<span id="cb62-58"><a href="#cb62-58" tabindex="-1"></a><span class="do">### &gt; 17 carb    8 8-carbs</span></span>
<span id="cb62-59"><a href="#cb62-59" tabindex="-1"></a><span class="do">### &gt; 18 carb   NA      NA</span></span>
<span id="cb62-60"><a href="#cb62-60" tabindex="-1"></a><span class="do">### &gt; Labeling variable --mpg--:</span></span>
<span id="cb62-61"><a href="#cb62-61" tabindex="-1"></a><span class="do">### &gt;    var   vals labs</span></span>
<span id="cb62-62"><a href="#cb62-62" tabindex="-1"></a><span class="do">### &gt; 19 mpg 15.425 q025</span></span>
<span id="cb62-63"><a href="#cb62-63" tabindex="-1"></a><span class="do">### &gt; 20 mpg   19.2 q050</span></span>
<span id="cb62-64"><a href="#cb62-64" tabindex="-1"></a><span class="do">### &gt; 21 mpg   22.8 q075</span></span>
<span id="cb62-65"><a href="#cb62-65" tabindex="-1"></a><span class="do">### &gt; 22 mpg   33.9 q100</span></span>
<span id="cb62-66"><a href="#cb62-66" tabindex="-1"></a><span class="do">### &gt; 23 mpg     NA   NA</span></span></code></pre></div>
<p>Note, we could’ve used <code>add_val_labs()</code> (instead of
<code>add_val1()</code>), <code>add_m1_lab()</code> (instead of
<code>add1m1()</code>), and <code>add_quant_labs()</code> (instead of
<code>add_quant1()</code>) in the foregoing pipe operations, but we’d
have had to quote the variables names in the calls.</p>
</div>
<div id="show-select-rows" class="section level3">
<h3>Show Select Rows</h3>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="fu">head</span>(mt_pipe, <span class="dv">5</span>) <span class="co"># Base R function utils::head()</span></span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a><span class="do">### &gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span></span>
<span id="cb63-3"><a href="#cb63-3" tabindex="-1"></a><span class="do">### &gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span id="cb63-4"><a href="#cb63-4" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span id="cb63-5"><a href="#cb63-5" tabindex="-1"></a><span class="do">### &gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span id="cb63-6"><a href="#cb63-6" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span id="cb63-7"><a href="#cb63-7" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span id="cb63-8"><a href="#cb63-8" tabindex="-1"></a></span>
<span id="cb63-9"><a href="#cb63-9" tabindex="-1"></a><span class="fu">headl</span>(mt_pipe, <span class="dv">5</span>) <span class="co"># labelr function headl() (note the &quot;l&quot;)</span></span>
<span id="cb63-10"><a href="#cb63-10" tabindex="-1"></a><span class="do">### &gt;                    mpg       cyl disp  hp drat    wt  qsec vs        am gear</span></span>
<span id="cb63-11"><a href="#cb63-11" tabindex="-1"></a><span class="do">### &gt; Mazda RX4         q075   six-cyl  160 110 3.90 2.620 16.46  0    manual   4+</span></span>
<span id="cb63-12"><a href="#cb63-12" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag     q075   six-cyl  160 110 3.90 2.875 17.02  0    manual   4+</span></span>
<span id="cb63-13"><a href="#cb63-13" tabindex="-1"></a><span class="do">### &gt; Datsun 710        q075  four-cyl  108  93 3.85 2.320 18.61  1    manual   4+</span></span>
<span id="cb63-14"><a href="#cb63-14" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive    q075   six-cyl  258 110 3.08 3.215 19.44  1 automatic    3</span></span>
<span id="cb63-15"><a href="#cb63-15" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout q050 eight-cyl  360 175 3.15 3.440 17.02  0 automatic    3</span></span>
<span id="cb63-16"><a href="#cb63-16" tabindex="-1"></a><span class="do">### &gt;                      carb</span></span>
<span id="cb63-17"><a href="#cb63-17" tabindex="-1"></a><span class="do">### &gt; Mazda RX4         4-carbs</span></span>
<span id="cb63-18"><a href="#cb63-18" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag     4-carbs</span></span>
<span id="cb63-19"><a href="#cb63-19" tabindex="-1"></a><span class="do">### &gt; Datsun 710         1-carb</span></span>
<span id="cb63-20"><a href="#cb63-20" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive     1-carb</span></span>
<span id="cb63-21"><a href="#cb63-21" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout 2-carbs</span></span>
<span id="cb63-22"><a href="#cb63-22" tabindex="-1"></a></span>
<span id="cb63-23"><a href="#cb63-23" tabindex="-1"></a><span class="fu">tail</span>(mt_pipe, <span class="dv">5</span>) <span class="co"># Base R function utils::tail()</span></span>
<span id="cb63-24"><a href="#cb63-24" tabindex="-1"></a><span class="do">### &gt;                 mpg cyl  disp  hp drat    wt qsec vs am gear carb</span></span>
<span id="cb63-25"><a href="#cb63-25" tabindex="-1"></a><span class="do">### &gt; Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.9  1  1    5    2</span></span>
<span id="cb63-26"><a href="#cb63-26" tabindex="-1"></a><span class="do">### &gt; Ford Pantera L 15.8   8 351.0 264 4.22 3.170 14.5  0  1    5    4</span></span>
<span id="cb63-27"><a href="#cb63-27" tabindex="-1"></a><span class="do">### &gt; Ferrari Dino   19.7   6 145.0 175 3.62 2.770 15.5  0  1    5    6</span></span>
<span id="cb63-28"><a href="#cb63-28" tabindex="-1"></a><span class="do">### &gt; Maserati Bora  15.0   8 301.0 335 3.54 3.570 14.6  0  1    5    8</span></span>
<span id="cb63-29"><a href="#cb63-29" tabindex="-1"></a><span class="do">### &gt; Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.6  1  1    4    2</span></span>
<span id="cb63-30"><a href="#cb63-30" tabindex="-1"></a></span>
<span id="cb63-31"><a href="#cb63-31" tabindex="-1"></a><span class="fu">taill</span>(mt_pipe, <span class="dv">5</span>) <span class="co"># labelr function taill() (note the &quot;l&quot;)</span></span>
<span id="cb63-32"><a href="#cb63-32" tabindex="-1"></a><span class="do">### &gt;                 mpg       cyl  disp  hp drat    wt qsec vs     am gear    carb</span></span>
<span id="cb63-33"><a href="#cb63-33" tabindex="-1"></a><span class="do">### &gt; Lotus Europa   q100  four-cyl  95.1 113 3.77 1.513 16.9  1 manual   4+ 2-carbs</span></span>
<span id="cb63-34"><a href="#cb63-34" tabindex="-1"></a><span class="do">### &gt; Ford Pantera L q050 eight-cyl 351.0 264 4.22 3.170 14.5  0 manual   4+ 4-carbs</span></span>
<span id="cb63-35"><a href="#cb63-35" tabindex="-1"></a><span class="do">### &gt; Ferrari Dino   q075   six-cyl 145.0 175 3.62 2.770 15.5  0 manual   4+ 6-carbs</span></span>
<span id="cb63-36"><a href="#cb63-36" tabindex="-1"></a><span class="do">### &gt; Maserati Bora  q025 eight-cyl 301.0 335 3.54 3.570 14.6  0 manual   4+ 8-carbs</span></span>
<span id="cb63-37"><a href="#cb63-37" tabindex="-1"></a><span class="do">### &gt; Volvo 142E     q075  four-cyl 121.0 109 4.11 2.780 18.6  1 manual   4+ 2-carbs</span></span>
<span id="cb63-38"><a href="#cb63-38" tabindex="-1"></a></span>
<span id="cb63-39"><a href="#cb63-39" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">some</span>(mt_pipe, <span class="dv">5</span>) <span class="co"># car package function car::some()</span></span>
<span id="cb63-40"><a href="#cb63-40" tabindex="-1"></a><span class="do">### &gt;                    mpg cyl  disp  hp drat    wt  qsec vs am gear carb</span></span>
<span id="cb63-41"><a href="#cb63-41" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout 18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span id="cb63-42"><a href="#cb63-42" tabindex="-1"></a><span class="do">### &gt; Merc 280          19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4</span></span>
<span id="cb63-43"><a href="#cb63-43" tabindex="-1"></a><span class="do">### &gt; Merc 450SE        16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3</span></span>
<span id="cb63-44"><a href="#cb63-44" tabindex="-1"></a><span class="do">### &gt; AMC Javelin       15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2</span></span>
<span id="cb63-45"><a href="#cb63-45" tabindex="-1"></a><span class="do">### &gt; Fiat X1-9         27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1</span></span>
<span id="cb63-46"><a href="#cb63-46" tabindex="-1"></a></span>
<span id="cb63-47"><a href="#cb63-47" tabindex="-1"></a><span class="fu">somel</span>(mt_pipe, <span class="dv">5</span>, <span class="at">seed =</span> <span class="dv">1837</span>) <span class="co"># labelr function somel() (note the &quot;l&quot;)</span></span>
<span id="cb63-48"><a href="#cb63-48" tabindex="-1"></a><span class="do">### &gt;                 mpg       cyl  disp  hp drat    wt  qsec vs        am gear</span></span>
<span id="cb63-49"><a href="#cb63-49" tabindex="-1"></a><span class="do">### &gt; AMC Javelin    q025 eight-cyl 304.0 150 3.15 3.435 17.30  0 automatic    3</span></span>
<span id="cb63-50"><a href="#cb63-50" tabindex="-1"></a><span class="do">### &gt; Fiat X1-9      q100  four-cyl  79.0  66 4.08 1.935 18.90  1    manual   4+</span></span>
<span id="cb63-51"><a href="#cb63-51" tabindex="-1"></a><span class="do">### &gt; Ford Pantera L q050 eight-cyl 351.0 264 4.22 3.170 14.50  0    manual   4+</span></span>
<span id="cb63-52"><a href="#cb63-52" tabindex="-1"></a><span class="do">### &gt; Merc 230       q075  four-cyl 140.8  95 3.92 3.150 22.90  1 automatic   4+</span></span>
<span id="cb63-53"><a href="#cb63-53" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive q075   six-cyl 258.0 110 3.08 3.215 19.44  1 automatic    3</span></span>
<span id="cb63-54"><a href="#cb63-54" tabindex="-1"></a><span class="do">### &gt;                   carb</span></span>
<span id="cb63-55"><a href="#cb63-55" tabindex="-1"></a><span class="do">### &gt; AMC Javelin    2-carbs</span></span>
<span id="cb63-56"><a href="#cb63-56" tabindex="-1"></a><span class="do">### &gt; Fiat X1-9       1-carb</span></span>
<span id="cb63-57"><a href="#cb63-57" tabindex="-1"></a><span class="do">### &gt; Ford Pantera L 4-carbs</span></span>
<span id="cb63-58"><a href="#cb63-58" tabindex="-1"></a><span class="do">### &gt; Merc 230       2-carbs</span></span>
<span id="cb63-59"><a href="#cb63-59" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive  1-carb</span></span></code></pre></div>
<p>Note that <code>some()</code> and <code>somel()</code> will not
return the same random rows.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
